{"version":3,"sources":["webpack:///./src/app/core/facades/native-startup/native-startup.facade.service.ts","webpack:///./src/app/core/service/native-startup-api/native-startup-api.service.ts","webpack:///./src/app/non-authorized/pages/institutions/institutions.module.ts","webpack:///./src/app/non-authorized/pages/institutions/institutions.page.html","webpack:///./src/app/non-authorized/pages/institutions/institutions.page.scss","webpack:///./src/app/non-authorized/pages/institutions/institutions.page.ts","webpack:///./src/app/non-authorized/pages/institutions/search.pipe.ts","webpack:///./src/app/shared/ui-components/st-header/st-header.module.ts"],"names":[],"mappings":"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","file":"pages-institutions-institutions-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { from, Observable, of, zip } from 'rxjs';\r\nimport { map, switchMap, take } from 'rxjs/operators';\r\nimport { ServiceStateFacade } from '@core/classes/service-state-facade';\r\nimport { StorageStateService } from '@core/states/storage/storage-state.service';\r\nimport { NativeStartupApiService } from '@core/service/native-startup-api/native-startup-api.service';\r\nimport { buttons } from '@core/utils/buttons.config';\r\nimport { Device } from '@capacitor/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NativeStartupFacadeService extends ServiceStateFacade {\r\n  private ttl: number = 600000; // 10min\r\n  private digestKey = 'get_nativeStartupMessageDigest';\r\n\r\n  constructor(\r\n    private readonly nativeStartupApiService: NativeStartupApiService,\r\n    private readonly storageStateService: StorageStateService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  fetchNativeStartupInfo(institutionId: string, sessionId?: string, useSessionId?: boolean): Observable<any> {\r\n    return from(Device.getInfo()).pipe(\r\n      take(1),\r\n      switchMap(deviceInfo => {\r\n        if (deviceInfo.platform === 'web') {\r\n          return of(null);\r\n        }\r\n        zip(\r\n          this.nativeStartupApiService.nativeStartup(institutionId, 'android', sessionId, useSessionId),\r\n          this.storageStateService.getStateEntityByKey$(this.digestKey)\r\n        ).pipe(\r\n          map(([NativeStartupInfo, cachedDigest]) => {\r\n            // the service call will return null if there is no Native Startup Message\r\n            if (NativeStartupInfo != null) {\r\n              if (NativeStartupInfo.minSupportedVersionFailure === 1) {\r\n                return this.displayMessageToUser(\r\n                  NativeStartupInfo.minSupportedVersionFailure,\r\n                  NativeStartupInfo.action === 'block',\r\n                  NativeStartupInfo.messageTitle,\r\n                  NativeStartupInfo.message\r\n                );\r\n              } else {\r\n                if (NativeStartupInfo.showMessage === 1) {\r\n                  if (NativeStartupInfo.showOnce === 1) {\r\n                    if (NativeStartupInfo.messageDigest != cachedDigest.value) {\r\n                      this.storageStateService.updateStateEntity(\r\n                        this.digestKey,\r\n                        NativeStartupInfo.messageDigest,\r\n                        this.ttl\r\n                      );\r\n                      return this.displayMessageToUser(\r\n                        NativeStartupInfo.minSupportedVersionFailure,\r\n                        NativeStartupInfo.action === 'block',\r\n                        NativeStartupInfo.messageTitle,\r\n                        NativeStartupInfo.message\r\n                      );\r\n                    }\r\n                  } else {\r\n                    return this.displayMessageToUser(\r\n                      NativeStartupInfo.minSupportedVersionFailure,\r\n                      NativeStartupInfo.action === 'block',\r\n                      NativeStartupInfo.messageTitle,\r\n                      NativeStartupInfo.message\r\n                    );\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          })\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  displayMessageToUser(isMinVersionFailure, isBlocking, title, message) {\r\n    const arrOfBtns = [];\r\n    const positiveButtonText = isMinVersionFailure\r\n      ? startupButtons['update']\r\n      : isBlocking\r\n      ? startupButtons['closeApp']\r\n      : startupButtons['ok'];\r\n    const isNegativeButtonVisible = isMinVersionFailure && !isBlocking;\r\n    const negativeButtonText = startupButtons['notNow'];\r\n    arrOfBtns.push(positiveButtonText);\r\n    isNegativeButtonVisible && arrOfBtns.push(negativeButtonText);\r\n    return {\r\n      title,\r\n      message,\r\n      arrOfBtns,\r\n    };\r\n  }\r\n}\r\n\r\nexport const startupButtons = {\r\n  update: { ...buttons.OKAY, label: 'Update' },\r\n  closeApp: { ...buttons.CANCEL, label: 'Close app' },\r\n  ok: { ...buttons.OKAY, label: 'Ok' },\r\n  notNow: { ...buttons.CANCEL, label: 'Not now' },\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, from } from 'rxjs';\r\nimport { MessageResponse } from '@core/model/service/message-response.model';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { NativeStartupInfo } from '@core/model/native-startup/native-startup-info';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { RPCQueryConfig } from '@core/interceptors/query-config.model';\r\nconst { Device, Capacitor } = Plugins;\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NativeStartupApiService {\r\n  private readonly serviceUrl = '/json/configuration';\r\n\r\n  constructor(private readonly http: HttpClient) {}\r\n\r\n  nativeStartup(\r\n    institutionId: string,\r\n    clientType = Capacitor.platform,\r\n    sessionId?: string,\r\n    useSessionId?: boolean\r\n  ): Observable<NativeStartupInfo> {\r\n    return from(Device.getInfo()).pipe(\r\n      switchMap(({ appVersion }) => {\r\n        let params = {\r\n          institutionId,\r\n          clientType,\r\n          clientVersion: appVersion || 2,\r\n        } as { institutionId: string; clientType: string; clientVersion: number; sessionId?: string };\r\n        const useSession = useSessionId === false ? useSessionId : true;\r\n\r\n        if (sessionId) {\r\n          params = { ...params, sessionId };\r\n        }\r\n        const queryConfig = new RPCQueryConfig('nativeStartup', params, useSession);\r\n\r\n        return this.http.post<MessageResponse<NativeStartupInfo>>(this.serviceUrl, queryConfig);\r\n      }),\r\n      map(({ response }) => response)\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InstitutionsPage } from './institutions.page';\r\nimport { StHeaderModule } from '@shared/ui-components/st-header/st-header.module';\r\nimport { SearchPipe } from './search.pipe';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InstitutionsPage,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, IonicModule, StHeaderModule, RouterModule.forChild(routes)],\r\n  declarations: [InstitutionsPage, SearchPipe],\r\n})\r\nexport class InstitutionsPageModule {}\r\n","module.exports = \"<ion-header class=\\\"institutions-header\\\" no-border>\\r\\n  <ion-toolbar mode=\\\"ios\\\" class=\\\"institutions-header__nav-toolbar\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button\\r\\n        class=\\\"institutions-header__back-btn\\\"\\r\\n        color=\\\"dark\\\"\\r\\n        text=\\\"Back\\\"\\r\\n        icon=\\\"ios-arrow-back\\\"\\r\\n        mode=\\\"ios\\\"\\r\\n      ></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"institutions-header__title\\\">Select Institution</ion-title>\\r\\n  </ion-toolbar>\\r\\n\\r\\n  <ion-toolbar class=\\\"institutions-header__toolbar\\\">\\r\\n    <ion-searchbar\\r\\n      (ionChange)=\\\"onSearchedValue($event)\\\"\\r\\n      (keyup.enter)=\\\"onEnterKeyClicked()\\\"\\r\\n      placeholder=\\\"Search...\\\"\\r\\n      type=\\\"text\\\"\\r\\n      debounce=\\\"500\\\"\\r\\n      mode=\\\"ios\\\"\\r\\n      class=\\\"institutions-header__searchbar\\\"\\r\\n    ></ion-searchbar>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"search-institutions\\\">\\r\\n  <ng-container *ngIf=\\\"isLoading; then skeleton; else institutionsList\\\"></ng-container>\\r\\n</ion-content>\\r\\n<ion-footer class=\\\"search-institutions__footer\\\" mode=\\\"ios\\\"></ion-footer>\\r\\n\\r\\n<ng-template #skeleton>\\r\\n  <ion-list class=\\\"search-institutions__list\\\" mode=\\\"ios\\\">\\r\\n    <div class=\\\"search-institutions__skeleton-item\\\" *ngFor=\\\"let i of [0,0,0,0,0,0,0,0,0]\\\">\\r\\n      <ion-skeleton-text animated class=\\\"search-institutions__skeleton-text\\\"></ion-skeleton-text>\\r\\n    </div>\\r\\n  </ion-list>\\r\\n</ng-template>\\r\\n\\r\\n<ng-template #institutionsList>\\r\\n  <ion-list class=\\\"search-institutions__list\\\" mode=\\\"ios\\\">\\r\\n    <ion-item\\r\\n      detail\\r\\n      button=\\\"true\\\"\\r\\n      class=\\\"search-institutions__item\\\"\\r\\n      *ngFor=\\\"let item of institutions | search : searchString\\\"\\r\\n      lines=\\\"none\\\"\\r\\n      (click)=\\\"selectInstitution(item.id)\\\"\\r\\n    >\\r\\n      <ion-label class=\\\"search-institutions__name\\\">\\r\\n        {{ item.name }}\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ng-template>\\r\\n\"","module.exports = \"/** Ionic CSS Variables **/\\n:root {\\n  /** primary **/\\n  --ion-color-primary: #005cb9;\\n  --ion-color-primary-rgb: 0, 92, 185;\\n  --ion-color-primary-contrast: #ffffff;\\n  --ion-color-primary-contrast-rgb: 255, 255, 255;\\n  --ion-color-primary-shade: #0051a3;\\n  --ion-color-primary-tint: #1a6cc0;\\n  /** secondary **/\\n  --ion-color-secondary: #0cd1e8;\\n  --ion-color-secondary-rgb: 12, 209, 232;\\n  --ion-color-secondary-contrast: #ffffff;\\n  --ion-color-secondary-contrast-rgb: 255, 255, 255;\\n  --ion-color-secondary-shade: #0bb8cc;\\n  --ion-color-secondary-tint: #24d6ea;\\n  /** tertiary **/\\n  --ion-color-tertiary: #7044ff;\\n  --ion-color-tertiary-rgb: 112, 68, 255;\\n  --ion-color-tertiary-contrast: #ffffff;\\n  --ion-color-tertiary-contrast-rgb: 255, 255, 255;\\n  --ion-color-tertiary-shade: #633ce0;\\n  --ion-color-tertiary-tint: #7e57ff;\\n  /** success **/\\n  --ion-color-success: #10dc60;\\n  --ion-color-success-rgb: 16, 220, 96;\\n  --ion-color-success-contrast: #ffffff;\\n  --ion-color-success-contrast-rgb: 255, 255, 255;\\n  --ion-color-success-shade: #0ec254;\\n  --ion-color-success-tint: #28e070;\\n  /** warning **/\\n  --ion-color-warning: #ffce00;\\n  --ion-color-warning-rgb: 255, 206, 0;\\n  --ion-color-warning-contrast: #ffffff;\\n  --ion-color-warning-contrast-rgb: 255, 255, 255;\\n  --ion-color-warning-shade: #e0b500;\\n  --ion-color-warning-tint: #ffd31a;\\n  /** danger **/\\n  --ion-color-danger: #f04141;\\n  --ion-color-danger-rgb: 245, 61, 61;\\n  --ion-color-danger-contrast: #ffffff;\\n  --ion-color-danger-contrast-rgb: 255, 255, 255;\\n  --ion-color-danger-shade: #d33939;\\n  --ion-color-danger-tint: #f25454;\\n  /** dark **/\\n  --ion-color-dark: #222428;\\n  --ion-color-dark-rgb: 34, 34, 34;\\n  --ion-color-dark-contrast: #ffffff;\\n  --ion-color-dark-contrast-rgb: 255, 255, 255;\\n  --ion-color-dark-shade: #1e2023;\\n  --ion-color-dark-tint: #383a3e;\\n  /** medium **/\\n  --ion-color-medium: #989aa2;\\n  --ion-color-medium-rgb: 152, 154, 162;\\n  --ion-color-medium-contrast: #ffffff;\\n  --ion-color-medium-contrast-rgb: 255, 255, 255;\\n  --ion-color-medium-shade: #86888f;\\n  --ion-color-medium-tint: #a2a4ab;\\n  /** light **/\\n  --ion-color-light: #f4f5f8;\\n  --ion-color-light-rgb: 244, 244, 244;\\n  --ion-color-light-contrast: #000000;\\n  --ion-color-light-contrast-rgb: 0, 0, 0;\\n  --ion-color-light-shade: #d7d8da;\\n  --ion-color-light-tint: #f5f6f9; }\\n.institutions-header {\\n  position: relative; }\\n.institutions-header.header-md:after {\\n    background-image: none; }\\n.institutions-header__nav-toolbar {\\n    --min-height: 27px;\\n    --padding-bottom: 0;\\n    --padding-top: 0; }\\n@media (min-width: 1024px) {\\n      .institutions-header__nav-toolbar {\\n        display: none; } }\\n.institutions-header__toolbar {\\n    --padding-bottom: 0;\\n    --padding-top: 0; }\\n.institutions-header__toolbar:last-child {\\n      --border-width: 0; }\\n.institutions-header__back-btn {\\n    --icon-font-size: 18px;\\n    --margin-start: 10px;\\n    --icon-padding-end: 5px;\\n    font-size: 16px;\\n    font-family: \\\"Nunito Regular\\\", arial, sans-serif; }\\n.institutions-header__title {\\n    width: 100%;\\n    font-size: 20px;\\n    font-family: \\\"Nunito Bold\\\", arial, sans-serif; }\\n.institutions-header ion-back-button {\\n    display: block;\\n    --icon-font-size: 25px; }\\n.institutions-header__nav-toolbar {\\n    box-shadow: 0px 2px 26px rgba(0, 0, 0, 0.12), 0px 0px 12px rgba(0, 0, 0, 0.04);\\n    z-index: 99;\\n    --min-height: 90px;\\n    margin-bottom: 25px; }\\n.institutions-header__toolbar {\\n    position: absolute;\\n    top: 65px;\\n    z-index: 99;\\n    width: 90%;\\n    border-radius: 8px;\\n    border: 1px solid #e3e3e3;\\n    height: 50px;\\n    left: 0;\\n    right: 0;\\n    margin-left: auto;\\n    margin-right: auto; }\\n.institutions-header__searchbar {\\n    --background: $color-white;\\n    padding: 0 0 5px 0; }\\n.search-institutions__list {\\n  margin: 0 0 40px 0; }\\n.search-institutions__item {\\n  --padding-start: 0;\\n  --inner-padding-end: 0;\\n  display: -webkit-box;\\n  display: flex;\\n  height: 60px;\\n  margin: 0 15px;\\n  border-bottom: 1px solid #f3f3f3; }\\n.search-institutions__name {\\n  font-size: 16px;\\n  font-family: \\\"Nunito SemiBold\\\", arial, sans-serif; }\\n.search-institutions__footer {\\n  position: absolute;\\n  bottom: 0px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: space-evenly;\\n          justify-content: space-evenly;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  min-height: 60px;\\n  background: -webkit-gradient(linear, left top, left bottom, from(#ffffff00), to(#fff));\\n  background: linear-gradient(to bottom, #ffffff00, #fff); }\\n.search-institutions__skeleton-item {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin-left: 15px;\\n  height: 60px; }\\n.search-institutions__skeleton-text {\\n  height: 20px;\\n  width: 220px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbm9uLWF1dGhvcml6ZWQvcGFnZXMvaW5zdGl0dXRpb25zL0M6XFxVc2Vyc1xcYnNwXFxEb2N1bWVudHNcXEdpdFJlcG9zXFxjYm9yZC1zdHVkZW50L3NyY1xcc3R5bGVzXFxfdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL25vbi1hdXRob3JpemVkL3BhZ2VzL2luc3RpdHV0aW9ucy9DOlxcVXNlcnNcXGJzcFxcRG9jdW1lbnRzXFxHaXRSZXBvc1xcY2JvcmQtc3R1ZGVudC9zcmNcXGFwcFxcbm9uLWF1dGhvcml6ZWRcXHBhZ2VzXFxpbnN0aXR1dGlvbnNcXGluc3RpdHV0aW9ucy5wYWdlLnNjc3MiLCJzcmMvYXBwL25vbi1hdXRob3JpemVkL3BhZ2VzL2luc3RpdHV0aW9ucy9DOlxcVXNlcnNcXGJzcFxcRG9jdW1lbnRzXFxHaXRSZXBvc1xcY2JvcmQtc3R1ZGVudC9ub2RlX21vZHVsZXNcXGJyZWFrcG9pbnQtc2Fzc1xcc3R5bGVzaGVldHNcXF9icmVha3BvaW50LnNjc3MiLCJzcmMvYXBwL25vbi1hdXRob3JpemVkL3BhZ2VzL2luc3RpdHV0aW9ucy9DOlxcVXNlcnNcXGJzcFxcRG9jdW1lbnRzXFxHaXRSZXBvc1xcY2JvcmQtc3R1ZGVudC9zcmNcXHN0eWxlc1xcX2NvbW1vbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBCQUFBO0FBQ0E7RUFDRSxjQUFBO0VBQ0EsNEJBQW9CO0VBQ3BCLG1DQUF3QjtFQUN4QixxQ0FBNkI7RUFDN0IsK0NBQWlDO0VBQ2pDLGtDQUEwQjtFQUMxQixpQ0FBeUI7RUFFekIsZ0JBQUE7RUFDQSw4QkFBc0I7RUFDdEIsdUNBQTBCO0VBQzFCLHVDQUErQjtFQUMvQixpREFBbUM7RUFDbkMsb0NBQTRCO0VBQzVCLG1DQUEyQjtFQUUzQixlQUFBO0VBQ0EsNkJBQXFCO0VBQ3JCLHNDQUF5QjtFQUN6QixzQ0FBOEI7RUFDOUIsZ0RBQWtDO0VBQ2xDLG1DQUEyQjtFQUMzQixrQ0FBMEI7RUFFMUIsY0FBQTtFQUNBLDRCQUFvQjtFQUNwQixvQ0FBd0I7RUFDeEIscUNBQTZCO0VBQzdCLCtDQUFpQztFQUNqQyxrQ0FBMEI7RUFDMUIsaUNBQXlCO0VBRXpCLGNBQUE7RUFDQSw0QkFBb0I7RUFDcEIsb0NBQXdCO0VBQ3hCLHFDQUE2QjtFQUM3QiwrQ0FBaUM7RUFDakMsa0NBQTBCO0VBQzFCLGlDQUF5QjtFQUV6QixhQUFBO0VBQ0EsMkJBQW1CO0VBQ25CLG1DQUF1QjtFQUN2QixvQ0FBNEI7RUFDNUIsOENBQWdDO0VBQ2hDLGlDQUF5QjtFQUN6QixnQ0FBd0I7RUFFeEIsV0FBQTtFQUNBLHlCQUFpQjtFQUNqQixnQ0FBcUI7RUFDckIsa0NBQTBCO0VBQzFCLDRDQUE4QjtFQUM5QiwrQkFBdUI7RUFDdkIsOEJBQXNCO0VBRXRCLGFBQUE7RUFDQSwyQkFBbUI7RUFDbkIscUNBQXVCO0VBQ3ZCLG9DQUE0QjtFQUM1Qiw4Q0FBZ0M7RUFDaEMsaUNBQXlCO0VBQ3pCLGdDQUF3QjtFQUV4QixZQUFBO0VBQ0EsMEJBQWtCO0VBQ2xCLG9DQUFzQjtFQUN0QixtQ0FBMkI7RUFDM0IsdUNBQStCO0VBQy9CLGdDQUF3QjtFQUN4QiwrQkFBdUIsRUFBQTtBQ3RFekI7RUEyQ0Usa0JBQWtCLEVBQUE7QUEzQ3BCO0lBRUksc0JBQXNCLEVBQUE7QUFHeEI7SUFDRSxrQkFBYTtJQUNiLG1CQUFpQjtJQUNqQixnQkFBYyxFQUFBO0FDc0RkO01EekRGO1FBTUksYUFBYSxFQUFBLEVBRWhCO0FBRUQ7SUFDRSxtQkFBaUI7SUFDakIsZ0JBQWMsRUFBQTtBQUZmO01BS0csaUJBQWUsRUFBQTtBQUluQjtJQUNFLHNCQUFpQjtJQUNqQixvQkFBZTtJQUNmLHVCQUFtQjtJRTVCckIsZUY4Qm1DO0lFMUJuQyxnREgwRXVELEVBQUE7QUM3Q3ZEO0lBQ0UsV0FBVztJRWxDYixlRm9DaUM7SUVoQ2pDLDZDSDRFa0QsRUFBQTtBQy9FcEQ7SUF1Q0ksY0FBYztJQUNkLHNCQUFpQixFQUFBO0FBSW5CO0lBQ0UsOEVBQThFO0lBQzlFLFdBQVc7SUFDWCxrQkFBYTtJQUNiLG1CQUFtQixFQUFBO0FBR3JCO0lBQ0Usa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0lBQ1gsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsWUFBWTtJQUNaLE9BQU87SUFDUCxRQUFRO0lBQ1IsaUJBQWlCO0lBQ2pCLGtCQUFrQixFQUFBO0FBR3BCO0lBQ0UsMEJBQWE7SUFDYixrQkFBa0IsRUFBQTtBQUlwQjtFQUNFLGtCQUFrQixFQUFBO0FBR3BCO0VBQ0Usa0JBQWdCO0VBQ2hCLHNCQUFvQjtFQUVwQixvQkFBYTtFQUFiLGFBQWE7RUFDYixZQUFZO0VBQ1osY0FBYztFQUNkLGdDRGV1QixFQUFBO0FDWnpCO0VFdEZBLGVGdUZvQztFRW5GcEMsaURIMkV5RCxFQUFBO0FDV3pEO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxvQkFBYTtFQUFiLGFBQWE7RUFDYiw4QkFBNkI7VUFBN0IsNkJBQTZCO0VBQzdCLHlCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLHNGQUErRDtFQUEvRCx1REFBK0QsRUFBQTtBQUkvRDtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLFlBQVksRUFBQTtBQUdkO0VBQ0UsWUFBWTtFQUNaLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL25vbi1hdXRob3JpemVkL3BhZ2VzL2luc3RpdHV0aW9ucy9pbnN0aXR1dGlvbnMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIElvbmljIENTUyBWYXJpYWJsZXMgKiovXHJcbjpyb290IHtcclxuICAvKiogcHJpbWFyeSAqKi9cclxuICAtLWlvbi1jb2xvci1wcmltYXJ5OiAjMDA1Y2I5O1xyXG4gIC0taW9uLWNvbG9yLXByaW1hcnktcmdiOiAwLCA5MiwgMTg1O1xyXG4gIC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1zaGFkZTogIzAwNTFhMztcclxuICAtLWlvbi1jb2xvci1wcmltYXJ5LXRpbnQ6ICMxYTZjYzA7XHJcblxyXG4gIC8qKiBzZWNvbmRhcnkgKiovXHJcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5OiAjMGNkMWU4O1xyXG4gIC0taW9uLWNvbG9yLXNlY29uZGFyeS1yZ2I6IDEyLCAyMDksIDIzMjtcclxuICAtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1zZWNvbmRhcnktc2hhZGU6ICMwYmI4Y2M7XHJcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LXRpbnQ6ICMyNGQ2ZWE7XHJcblxyXG4gIC8qKiB0ZXJ0aWFyeSAqKi9cclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeTogIzcwNDRmZjtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS1yZ2I6IDExMiwgNjgsIDI1NTtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItdGVydGlhcnktc2hhZGU6ICM2MzNjZTA7XHJcbiAgLS1pb24tY29sb3ItdGVydGlhcnktdGludDogIzdlNTdmZjtcclxuXHJcbiAgLyoqIHN1Y2Nlc3MgKiovXHJcbiAgLS1pb24tY29sb3Itc3VjY2VzczogIzEwZGM2MDtcclxuICAtLWlvbi1jb2xvci1zdWNjZXNzLXJnYjogMTYsIDIyMCwgOTY7XHJcbiAgLS1pb24tY29sb3Itc3VjY2Vzcy1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci1zdWNjZXNzLWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1zdWNjZXNzLXNoYWRlOiAjMGVjMjU0O1xyXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3MtdGludDogIzI4ZTA3MDtcclxuXHJcbiAgLyoqIHdhcm5pbmcgKiovXHJcbiAgLS1pb24tY29sb3Itd2FybmluZzogI2ZmY2UwMDtcclxuICAtLWlvbi1jb2xvci13YXJuaW5nLXJnYjogMjU1LCAyMDYsIDA7XHJcbiAgLS1pb24tY29sb3Itd2FybmluZy1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci13YXJuaW5nLWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci13YXJuaW5nLXNoYWRlOiAjZTBiNTAwO1xyXG4gIC0taW9uLWNvbG9yLXdhcm5pbmctdGludDogI2ZmZDMxYTtcclxuXHJcbiAgLyoqIGRhbmdlciAqKi9cclxuICAtLWlvbi1jb2xvci1kYW5nZXI6ICNmMDQxNDE7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLXJnYjogMjQ1LCA2MSwgNjE7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gIC0taW9uLWNvbG9yLWRhbmdlci1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLXNoYWRlOiAjZDMzOTM5O1xyXG4gIC0taW9uLWNvbG9yLWRhbmdlci10aW50OiAjZjI1NDU0O1xyXG5cclxuICAvKiogZGFyayAqKi9cclxuICAtLWlvbi1jb2xvci1kYXJrOiAjMjIyNDI4O1xyXG4gIC0taW9uLWNvbG9yLWRhcmstcmdiOiAzNCwgMzQsIDM0O1xyXG4gIC0taW9uLWNvbG9yLWRhcmstY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3ItZGFyay1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItZGFyay1zaGFkZTogIzFlMjAyMztcclxuICAtLWlvbi1jb2xvci1kYXJrLXRpbnQ6ICMzODNhM2U7XHJcblxyXG4gIC8qKiBtZWRpdW0gKiovXHJcbiAgLS1pb24tY29sb3ItbWVkaXVtOiAjOTg5YWEyO1xyXG4gIC0taW9uLWNvbG9yLW1lZGl1bS1yZ2I6IDE1MiwgMTU0LCAxNjI7XHJcbiAgLS1pb24tY29sb3ItbWVkaXVtLWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gIC0taW9uLWNvbG9yLW1lZGl1bS1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItbWVkaXVtLXNoYWRlOiAjODY4ODhmO1xyXG4gIC0taW9uLWNvbG9yLW1lZGl1bS10aW50OiAjYTJhNGFiO1xyXG5cclxuICAvKiogbGlnaHQgKiovXHJcbiAgLS1pb24tY29sb3ItbGlnaHQ6ICNmNGY1Zjg7XHJcbiAgLS1pb24tY29sb3ItbGlnaHQtcmdiOiAyNDQsIDI0NCwgMjQ0O1xyXG4gIC0taW9uLWNvbG9yLWxpZ2h0LWNvbnRyYXN0OiAjMDAwMDAwO1xyXG4gIC0taW9uLWNvbG9yLWxpZ2h0LWNvbnRyYXN0LXJnYjogMCwgMCwgMDtcclxuICAtLWlvbi1jb2xvci1saWdodC1zaGFkZTogI2Q3ZDhkYTtcclxuICAtLWlvbi1jb2xvci1saWdodC10aW50OiAjZjVmNmY5O1xyXG5cclxuICAvLyAtLWlvbi1ncmlkLXdpZHRoLXNtOiAwcHg7XHJcbn1cclxuXHJcbi8vIEZPTlRTXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuJGZvbnQtbnVuaXRvLXJlZ3VsYXI6ICdOdW5pdG8gUmVndWxhcicsIGFyaWFsLCBzYW5zLXNlcmlmO1xyXG4kZm9udC1udW5pdG8tc2VtaWJvbGQ6ICdOdW5pdG8gU2VtaUJvbGQnLCBhcmlhbCwgc2Fucy1zZXJpZjtcclxuJGZvbnQtbnVuaXRvLWhlYXZ5OiAnTnVuaXRvIEJvbGQnLCBhcmlhbCwgc2Fucy1zZXJpZjtcclxuXHJcbi8vIENPTE9SU1xyXG5cclxuJGNvbG9yLXZlcnktbGlnaHQtZ3JheTogI2NjYztcclxuJGNvbG9yLWxpbmstd2F0ZXI6ICNkNGQ2ZDg7XHJcbiRjb2xvci13aGlzcGVyOiAjZTllOWU5O1xyXG4kY29sb3ItZGFyay1ncmF5OiAjYWFhO1xyXG4kY29sb3ItZHVzdHktZ3JheTogIzk3OTc5NztcclxuJGNvbG9yLWRpbS1ncmF5OiAjNmU2ZTZlO1xyXG4kY29sb3Itc29saXR1ZGU6ICNFQ0YxRjg7XHJcbiRjb2xvci1uaWdodC1yaWRlcjogIzMzMztcclxuJGNvbG9yLW5hdnktYmx1ZTogIzAwNTZlNjtcclxuJGNvbG9yLWRlbmltOiAjMTM2MGUwO1xyXG4kY29sb3ItZG9kZ2VyLWJsdWU6ICMxNjZkZmY7XHJcbiRjb2xvci1kb2RnZXItYmx1ZS1saWdodGVyOiAjMmQ3Y2ZmO1xyXG4kY29sb3Itd2hpdGU6ICNmZmY7XHJcbiRjb2xvci1ibGFjazogIzAwMDtcclxuJGNvbG9yLXdoaXRlLXNtb2tlOiAjZjNmM2YzO1xyXG4kY29sb3ItZGVlcC1za3ktYmx1ZTogIzAwYTBmZjtcclxuJGNvbG9yLWxpZ2h0LXNreS1ibHVlOiAjOGJiN2ZmO1xyXG4kY29sb3ItbGlnaHQtc2t5LWJsdWU6ICM4OGM4ZmY7XHJcbiRjb2xvci1zdHJvbmctYmx1ZTogIzAwNDNiMztcclxuJGNvbG9yLWFsaWNlLWJsdWU6ICNmMGYzZjU7XHJcbiRjb2xvci1zaWx2ZXI6ICNjNGM0YzQ7XHJcbiRjb2xvci1tYXR0ZXJob3JuOiAjNTE1MTUxO1xyXG4kY29sb3ItdmVyeS1kYXJrLWdyYXk6ICM2MjYyNjI7XHJcbiRjb2xvci1tZXJjdXJ5OiAjZTdlN2U3O1xyXG4kY29sb3ItbGlnaHQtZ3JheTogI2Q4ZDhkODtcclxuJGNvbG9yLXdoaXNwZXI6ICNlYmViZWI7XHJcbiRjb2xvci1hbGl6YXJpbjogI2UyMjk0MjtcclxuJGNvbG9yLWZsYW1lLXJlZDogIzg4MTkyODtcclxuJGNvbG9yLWNoYXJjb2FsOiAjNDY0NjQ2O1xyXG4kY29sb3ItZGVlcC1zZWE6ICMxNDdkNjM7XHJcbiRjb2xvci1jYXJkaW5hbDogI2I1MjEzNTtcclxuJGNvbG9yLWdvZC1ncmF5OiAjMTYxNjE2O1xyXG4kY29sb3ItaG90LWN1cnJ5OiAjN2M1ZDIzO1xyXG4kY29sb3ItY2FzYWJsYW5jYTogI2Y3YmE0NTtcclxuJGNvbG9yLWFsYWJhc3RlcjogI2Y3ZjdmNztcclxuJHBvcmNlbGFpbjogI2U2ZTllYjtcclxuJGNvbG9yLWhhcmxleS1kYXZpZHNvbi1vcmFuZ2U6ICNEMDQzMUE7XHJcbiRjb2xvci1wYXR0ZW5zLWJsdWU6ICNlMGUzZTU7XHJcblxyXG4vLy8gU2l6ZVxyXG4kYm90dG9tLW5hdmlnYXRpb24tYmFyLWhlaWdodDogNTBweDtcclxuIiwiQGltcG9ydCAndG9vbHMnO1xyXG5cclxuLmluc3RpdHV0aW9ucy1oZWFkZXIge1xyXG4gICYuaGVhZGVyLW1kOmFmdGVyIHtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAmX19uYXYtdG9vbGJhciB7XHJcbiAgICAtLW1pbi1oZWlnaHQ6IDI3cHg7XHJcbiAgICAtLXBhZGRpbmctYm90dG9tOiAwO1xyXG4gICAgLS1wYWRkaW5nLXRvcDogMDtcclxuXHJcbiAgICBAaW5jbHVkZSBicC1ncmlkLWRlc2t0b3Age1xyXG4gICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJl9fdG9vbGJhciB7XHJcbiAgICAtLXBhZGRpbmctYm90dG9tOiAwO1xyXG4gICAgLS1wYWRkaW5nLXRvcDogMDtcclxuXHJcbiAgICAmOmxhc3QtY2hpbGQge1xyXG4gICAgICAtLWJvcmRlci13aWR0aDogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICZfX2JhY2stYnRuIHtcclxuICAgIC0taWNvbi1mb250LXNpemU6IDE4cHg7XHJcbiAgICAtLW1hcmdpbi1zdGFydDogMTBweDtcclxuICAgIC0taWNvbi1wYWRkaW5nLWVuZDogNXB4O1xyXG5cclxuICAgIEBpbmNsdWRlIGZvbnQtbnVuaXRvLXJlZ3VsYXIoMTZweCk7XHJcbiAgfVxyXG5cclxuICAmX190aXRsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICBAaW5jbHVkZSBmb250LW51bml0by1oZWF2eSgyMHB4KTtcclxuICB9XHJcblxyXG4gIGlvbi1iYWNrLWJ1dHRvbiB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIC0taWNvbi1mb250LXNpemU6IDI1cHg7XHJcbiAgfVxyXG5cclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgJl9fbmF2LXRvb2xiYXIge1xyXG4gICAgYm94LXNoYWRvdzogMHB4IDJweCAyNnB4IHJnYmEoMCwgMCwgMCwgMC4xMiksIDBweCAwcHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMDQpO1xyXG4gICAgei1pbmRleDogOTk7XHJcbiAgICAtLW1pbi1oZWlnaHQ6IDkwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xyXG4gIH1cclxuXHJcbiAgJl9fdG9vbGJhciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDY1cHg7XHJcbiAgICB6LWluZGV4OiA5OTtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTNlM2UzO1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgfVxyXG5cclxuICAmX19zZWFyY2hiYXIge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAkY29sb3Itd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAwIDAgNXB4IDA7XHJcbiAgfVxyXG59XHJcbi5zZWFyY2gtaW5zdGl0dXRpb25zIHtcclxuICAmX19saXN0IHtcclxuICAgIG1hcmdpbjogMCAwIDQwcHggMDtcclxuICB9XHJcblxyXG4gICZfX2l0ZW0ge1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xyXG4gICAgLS1pbm5lci1wYWRkaW5nLWVuZDogMDtcclxuXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgbWFyZ2luOiAwIDE1cHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJGNvbG9yLXdoaXRlLXNtb2tlO1xyXG4gIH1cclxuXHJcbiAgJl9fbmFtZSB7XHJcbiAgICBAaW5jbHVkZSBmb250LW51bml0by1zZW1pYm9sZCgxNnB4KTtcclxuICB9XHJcblxyXG4gICZfX2Zvb3RlciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDBweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtaW4taGVpZ2h0OiA2MHB4O1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2ZmZmZmZjAwLCAkY29sb3Itd2hpdGUpO1xyXG4gIH1cclxuXHJcbiAgJl9fc2tlbGV0b24ge1xyXG4gICAgJi1pdGVtIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbiAgICAgIGhlaWdodDogNjBweDtcclxuICAgIH1cclxuXHJcbiAgICAmLXRleHQge1xyXG4gICAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICAgIHdpZHRoOiAyMjBweDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBEZWZhdWx0IFZhcmlhYmxlc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4kQnJlYWtwb2ludC1TZXR0aW5nczogKFxuICAnZGVmYXVsdCBtZWRpYSc6IGFsbCxcbiAgJ2RlZmF1bHQgZmVhdHVyZSc6IG1pbi13aWR0aCxcbiAgJ2RlZmF1bHQgcGFpcic6IHdpZHRoLFxuXG4gICdmb3JjZSBhbGwgbWVkaWEgdHlwZSc6IGZhbHNlLFxuICAndG8gZW1zJzogZmFsc2UsXG4gICd0cmFuc2Zvcm0gcmVzb2x1dGlvbnMnOiB0cnVlLFxuXG4gICdubyBxdWVyaWVzJzogZmFsc2UsXG4gICdubyBxdWVyeSBmYWxsYmFja3MnOiBmYWxzZSxcblxuICAnYmFzZSBmb250IHNpemUnOiAxNnB4LFxuXG4gICdsZWdhY3kgc3ludGF4JzogZmFsc2Vcbik7XG5cbiRicmVha3BvaW50OiAoKSAhZGVmYXVsdDtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbXBvcnRzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBpbXBvcnQgXCJicmVha3BvaW50L3NldHRpbmdzXCI7XG5AaW1wb3J0ICdicmVha3BvaW50L2NvbnRleHQnO1xuQGltcG9ydCAnYnJlYWtwb2ludC9oZWxwZXJzJztcbkBpbXBvcnQgJ2JyZWFrcG9pbnQvcGFyc2Vycyc7XG5AaW1wb3J0ICdicmVha3BvaW50L25vLXF1ZXJ5JztcblxuQGltcG9ydCAnYnJlYWtwb2ludC9yZXNwb25kLXRvJztcblxuQGltcG9ydCBcImJyZWFrcG9pbnQvbGVnYWN5LXNldHRpbmdzXCI7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQnJlYWtwb2ludCBNaXhpblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkBtaXhpbiBicmVha3BvaW50KCRxdWVyeSwgJG5vLXF1ZXJ5OiBmYWxzZSkge1xuICBAaW5jbHVkZSBsZWdhY3ktc2V0dGluZ3Mtd2FybmluZztcblxuICAvLyBSZXNldCBjb250ZXh0c1xuICBAaW5jbHVkZSBwcml2YXRlLWJyZWFrcG9pbnQtcmVzZXQtY29udGV4dHMoKTtcblxuICAkYnJlYWtwb2ludDogYnJlYWtwb2ludCgkcXVlcnksIGZhbHNlKTtcblxuICAkcXVlcnktc3RyaW5nOiBtYXAtZ2V0KCRicmVha3BvaW50LCAncXVlcnknKTtcbiAgJHF1ZXJ5LWZhbGxiYWNrOiBtYXAtZ2V0KCRicmVha3BvaW50LCAnZmFsbGJhY2snKTtcblxuICAkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyOiBtYXAtZ2V0KCRicmVha3BvaW50LCAnY29udGV4dCBob2xkZXInKSAhZ2xvYmFsO1xuICAkcHJpdmF0ZS1icmVha3BvaW50LXF1ZXJ5LWNvdW50OiBtYXAtZ2V0KCRicmVha3BvaW50LCAncXVlcnkgY291bnQnKSAhZ2xvYmFsO1xuXG4gIC8vIEFsbG93IGZvciBhbiBhcy1uZWVkZWQgb3ZlcnJpZGUgb3IgdXNhZ2Ugb2Ygbm8gcXVlcnkgZmFsbGJhY2suXG4gIEBpZiAkbm8tcXVlcnkgIT0gZmFsc2Uge1xuICAgICRxdWVyeS1mYWxsYmFjazogJG5vLXF1ZXJ5O1xuICB9XG5cbiAgQGlmICRxdWVyeS1mYWxsYmFjayAhPSBmYWxzZSB7XG4gICAgJGNvbnRleHQtc2V0dGVyOiBwcml2YXRlLWJyZWFrcG9pbnQtc2V0LWNvbnRleHQoJ25vLXF1ZXJ5JywgJHF1ZXJ5LWZhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIFByaW50IE91dCBRdWVyeSBTdHJpbmdcbiAgQGlmIG5vdCBicmVha3BvaW50LWdldCgnbm8gcXVlcmllcycpIHtcbiAgICBAbWVkaWEgI3skcXVlcnktc3RyaW5nfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cblxuICBAaWYgYnJlYWtwb2ludC1nZXQoJ25vIHF1ZXJ5IGZhbGxiYWNrcycpICE9IGZhbHNlIG9yIGJyZWFrcG9pbnQtZ2V0KCdubyBxdWVyaWVzJykgPT0gdHJ1ZSB7XG5cbiAgICAkdHlwZTogdHlwZS1vZihicmVha3BvaW50LWdldCgnbm8gcXVlcnkgZmFsbGJhY2tzJykpO1xuICAgICRwcmludDogZmFsc2U7XG5cbiAgICBAaWYgKCR0eXBlID09ICdib29sJykge1xuICAgICAgJHByaW50OiB0cnVlO1xuICAgIH1cbiAgICBAZWxzZSBpZiAoJHR5cGUgPT0gJ3N0cmluZycpIHtcbiAgICAgIEBpZiAkcXVlcnktZmFsbGJhY2sgPT0gYnJlYWtwb2ludC1nZXQoJ25vIHF1ZXJ5IGZhbGxiYWNrcycpIHtcbiAgICAgICAgJHByaW50OiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBAZWxzZSBpZiAoJHR5cGUgPT0gJ2xpc3QnKSB7XG4gICAgICBAZWFjaCAkd3JhcHBlciBpbiBicmVha3BvaW50LWdldCgnbm8gcXVlcnkgZmFsbGJhY2tzJykge1xuICAgICAgICBAaWYgJHF1ZXJ5LWZhbGxiYWNrID09ICR3cmFwcGVyIHtcbiAgICAgICAgICAkcHJpbnQ6IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXcml0ZSBGYWxsYmFja1xuICAgIEBpZiAoJHF1ZXJ5LWZhbGxiYWNrICE9IGZhbHNlKSBhbmQgKCRwcmludCA9PSB0cnVlKSB7XG4gICAgICAkdHlwZS1mYWxsYmFjazogdHlwZS1vZigkcXVlcnktZmFsbGJhY2spO1xuXG4gICAgICBAaWYgKCR0eXBlLWZhbGxiYWNrICE9ICdib29sJykge1xuICAgICAgICAjeyRxdWVyeS1mYWxsYmFja30gJiB7XG4gICAgICAgICAgQGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEBlbHNlIHtcbiAgICAgICAgQGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQGluY2x1ZGUgcHJpdmF0ZS1icmVha3BvaW50LXJlc2V0LWNvbnRleHRzKCk7XG59XG5cblxuQG1peGluIG1xKCRxdWVyeSwgJG5vLXF1ZXJ5OiBmYWxzZSkge1xuICBAaW5jbHVkZSBicmVha3BvaW50KCRxdWVyeSwgJG5vLXF1ZXJ5KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbiIsIkBtaXhpbiBmb250LXNpemUoJGZvbnQtc2l6ZSkge1xyXG4gIGZvbnQtc2l6ZTogJGZvbnQtc2l6ZTtcclxufVxyXG5cclxuQG1peGluIGZvbnQtZmFtaWx5KCRmb250LWZhbWlseSkge1xyXG4gIGZvbnQtZmFtaWx5OiAkZm9udC1mYW1pbHk7XHJcbn1cclxuXHJcbkBtaXhpbiBmb250LW51bml0by1yZWd1bGFyKCRmb250LXNpemUpIHtcclxuICBAaW5jbHVkZSBmb250LXNpemUoJGZvbnQtc2l6ZSk7XHJcbiAgQGluY2x1ZGUgZm9udC1mYW1pbHkoJGZvbnQtbnVuaXRvLXJlZ3VsYXIpO1xyXG59XHJcblxyXG5AbWl4aW4gZm9udC1udW5pdG8tc2VtaWJvbGQoJGZvbnQtc2l6ZSkge1xyXG4gIEBpbmNsdWRlIGZvbnQtc2l6ZSgkZm9udC1zaXplKTtcclxuICBAaW5jbHVkZSBmb250LWZhbWlseSgkZm9udC1udW5pdG8tc2VtaWJvbGQpO1xyXG59XHJcblxyXG5AbWl4aW4gZm9udC1udW5pdG8taGVhdnkoJGZvbnQtc2l6ZSkge1xyXG4gIEBpbmNsdWRlIGZvbnQtc2l6ZSgkZm9udC1zaXplKTtcclxuICBAaW5jbHVkZSBmb250LWZhbWlseSgkZm9udC1udW5pdG8taGVhdnkpO1xyXG59XHJcblxyXG5AbWl4aW4gbGluay1jb2xvcigkY29sb3IpIHtcclxuICBjb2xvcjogJGNvbG9yO1xyXG5cclxuICAmOmxpbmssXHJcbiAgJjp2aXNpdGVkLFxyXG4gICY6Zm9jdXMsXHJcbiAgJjpob3ZlcixcclxuICAmOmFjdGl2ZSB7XHJcbiAgICBjb2xvcjogJGNvbG9yO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGhvdmVyIHtcclxuICAmOmhvdmVyLFxyXG4gICY6Zm9jdXMge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZGlzYWJsZWQge1xyXG4gICYuZGlzYWJsZWQsXHJcbiAgJi5kaXNhYmxlZDpmb2N1cyxcclxuICAmLmRpc2FibGVkOmhvdmVyLFxyXG4gICZbZGlzYWJsZWRdLFxyXG4gICZbZGlzYWJsZWRdOmZvY3VzLFxyXG4gICZbZGlzYWJsZWRdOmhvdmVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGVsbGlwc2lzIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbn1cclxuXHJcbkBtaXhpbiBmbG9hdGluZy1sYWJlbCgkY29sb3IpIHtcclxuICBmb250LXNpemU6IDc1JTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDE1JSwgLTUwJSwgMCk7XHJcbiAgb3BhY2l0eTogMTtcclxuICBiYWNrZ3JvdW5kOiAkY29sb3Itd2hpdGU7XHJcbiAgcGFkZGluZzogMCAzcHg7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGNvbG9yOiAkY29sb3I7XHJcbn1cclxuXHJcbkBtaXhpbiBjaGV2cm9uLWRvd24oKSB7XHJcbiAgJjo6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvci13aGl0ZTtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pY29uL2NoZXZyb24tZG93bi5zdmcnKTtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICByaWdodDogMTVweDtcclxuICAgIHdpZHRoOiAxNHB4O1xyXG4gICAgaGVpZ2h0OiA5cHg7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gY2hldnJvbi1kb3duLWFjdGl2ZSgpIHtcclxuICAmOjpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ljb24vY2hldnJvbi1kb3duLWFjdGl2ZS5zdmcnKTtcclxuICAgIHJpZ2h0OiAxNHB4O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGNoZXZyb24tZG93bi1lcnJvcigpIHtcclxuICAmOjpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ljb24vY2hldnJvbi1kb3duLWVycm9yLnN2ZycpO1xyXG4gICAgcmlnaHQ6IDE0cHg7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { LoginType } from './../../../app.global';\r\nimport { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { InstitutionFacadeService } from '@core/facades/institution/institution.facade.service';\r\nimport { take, switchMap, tap, map } from 'rxjs/operators';\r\nimport { Router } from '@angular/router';\r\nimport { GUEST_ROUTES } from '../../non-authorized.config';\r\nimport { ROLES, Settings } from 'src/app/app.global';\r\nimport { zip, of } from 'rxjs';\r\nimport { NativeStartupFacadeService } from '@core/facades/native-startup/native-startup.facade.service';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { StGlobalPopoverComponent } from '@shared/ui-components';\r\nimport { BUTTON_TYPE } from '@core/utils/buttons.config';\r\nimport { LoadingService } from '@core/service/loading/loading.service';\r\nimport { AuthFacadeService } from '@core/facades/auth/auth.facade.service';\r\nimport { Device, Plugins, Capacitor } from '@capacitor/core';\r\nimport { SettingsFacadeService } from '@core/facades/settings/settings-facade.service';\r\nimport { Environment } from '../../../environment';\r\nimport { IdentityFacadeService, LoginState } from '@core/facades/identity/identity.facade.service';\r\nconst { Keyboard, IOSDevice } = Plugins;\r\n\r\n@Component({\r\n  selector: 'st-institutions',\r\n  templateUrl: './institutions.page.html',\r\n  styleUrls: ['./institutions.page.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class InstitutionsPage implements OnInit {\r\n\r\n  private sessionId: string = null;\r\n  searchString: string = '';\r\n\r\n  isLoading: boolean = true;\r\n  institutions: any[];\r\n  constructor(\r\n    private readonly institutionFacadeService: InstitutionFacadeService,\r\n    private readonly settingsFacadeService: SettingsFacadeService,\r\n    private readonly nativeStartupFacadeService: NativeStartupFacadeService,\r\n    private readonly authFacadeService: AuthFacadeService,\r\n    private readonly loadingService: LoadingService,\r\n    private readonly identityFacadeService: IdentityFacadeService,\r\n    private readonly popoverCtrl: PopoverController,\r\n    private readonly nav: Router,\r\n    private readonly cdRef: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.authFacadeService\r\n      .getAuthSessionToken$()\r\n      .pipe(\r\n        tap(sessionId => (this.sessionId = sessionId)),\r\n        switchMap(sessionId => this.institutionFacadeService.retrieveLookupList$(sessionId)),\r\n        take(1)\r\n      )\r\n      .subscribe(institutions => {\r\n        this.institutions = institutions;\r\n        this.isLoading = false;\r\n        this.cdRef.markForCheck();\r\n      });\r\n\r\n\r\n       this.setNativeEnvironment();\r\n  }\r\n\r\n  onEnterKeyClicked() {\r\n    Keyboard.hide();\r\n  }\r\n\r\n  onSearchedValue({ target: { value } }: any) {\r\n    this.searchString = value;\r\n  }\r\n\r\n  async selectInstitution(id: string) {\r\n    await this.loadingService.showSpinner();\r\n    await this.identityFacadeService.logoutUser();\r\n    this.settingsFacadeService.cleanCache();\r\n    await zip(\r\n      this.settingsFacadeService.fetchSettingList(Settings.SettingList.FEATURES, this.sessionId, id),\r\n      this.settingsFacadeService.getSettings(\r\n        [Settings.Setting.MOBILE_HEADER_COLOR, Settings.Setting.FEEDBACK_EMAIL],\r\n        this.sessionId,\r\n        id\r\n      ),\r\n      this.institutionFacadeService.getInstitutionInfo$(id, this.sessionId, true),\r\n      this.settingsFacadeService.getSetting(Settings.Setting.PIN_ENABLED, this.sessionId, id)\r\n    )\r\n      .pipe(\r\n        switchMap(() => this.identityFacadeService.determineInstitutionSelectionLoginState()),\r\n        switchMap(\r\n          (loginState): any => {\r\n            console.log('Login State:', loginState);\r\n            return this.nativeStartupFacadeService.fetchNativeStartupInfo(id, this.sessionId, false).pipe(\r\n              map(startupInfoConfig => ({\r\n                loginState,\r\n                startupInfoConfig,\r\n              }))\r\n            );\r\n          }\r\n        ),\r\n        tap(data => {\r\n          if (data && data['startupInfoConfig']) {\r\n            const { title, message, arrOfBtns } = data['startupInfoConfig'];\r\n            this.initModal(title, message, arrOfBtns, this.redirectToTheStore.bind(this));\r\n          }\r\n          switch (data['loginState']) {\r\n            case LoginState.HOSTED:\r\n              this.nav.navigate([ROLES.guest, GUEST_ROUTES.login]);\r\n              break;\r\n            case LoginState.EXTERNAL:\r\n              this.nav.navigate([ROLES.guest, GUEST_ROUTES.external]);\r\n              break;\r\n          }\r\n        }),\r\n        take(1)\r\n      )\r\n      .toPromise();\r\n    await this.loadingService.closeSpinner();\r\n  }\r\n\r\n  private async initModal(title, message, buttons, onSuccessCb): Promise<void> {\r\n    const modal = await this.popoverCtrl.create({\r\n      component: StGlobalPopoverComponent,\r\n      componentProps: {\r\n        data: {\r\n          title,\r\n          message,\r\n          buttons,\r\n        },\r\n      },\r\n      animated: false,\r\n      backdropDismiss: true,\r\n    });\r\n\r\n    modal.onDidDismiss().then(({ role }) => {\r\n      role === BUTTON_TYPE.OKAY && onSuccessCb();\r\n    });\r\n\r\n    await modal.present();\r\n  }\r\n\r\n  private redirectToTheStore() {\r\n    Device.getInfo()\r\n      .then(deviceInfo => {\r\n        if (deviceInfo.platform === 'ios') {\r\n          window.open('itms-apps://itunes.apple.com/app/id844091049');\r\n        } else if (deviceInfo.platform === 'android') {\r\n          window.open('https://play.google.com/store/apps/details?id=com.cbord.get');\r\n        }\r\n      })\r\n      .catch(reason => {\r\n        console.log('Inst Page - error redirecting to app store', reason);\r\n      });\r\n  }\r\n  async setNativeEnvironment() {\r\n    if (Capacitor.platform === 'ios') {\r\n      await IOSDevice.setEnvironment({ env: Environment.currentEnvironment });\r\n    }\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'search' })\r\nexport class SearchPipe implements PipeTransform {\r\n  transform(value: any[], term: string): any[] {\r\n    return value.filter((x: any) => x.name.toLowerCase().includes(term.toLowerCase()));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { StHeaderComponent } from './st-header.component';\r\n\r\nconst declarations = [StHeaderComponent];\r\n\r\n@NgModule({\r\n  declarations,\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule\r\n  ],\r\n  exports: declarations\r\n})\r\nexport class StHeaderModule { }\r\n"],"sourceRoot":""}