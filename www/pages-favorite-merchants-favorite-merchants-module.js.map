{"version":3,"sources":["webpack:///./src/app/sections/ordering/pages/favorite-merchants/favorite-merchants.module.ts","webpack:///./src/app/sections/ordering/pages/favorite-merchants/favorite-merchants.routing.module.ts","webpack:///./src/app/sections/ordering/pages/favorite-merchants/resolvers/favorite-merchants.resolver.ts","webpack:///./src/app/shared/pipes/merchant-distance/merchant-distance.module.ts","webpack:///./src/app/shared/pipes/merchant-distance/merchant-distance.pipe.ts"],"names":[],"mappings":"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","file":"pages-favorite-merchants-favorite-merchants-module.js","sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { NgModule } from '@angular/core';\r\nimport { FavoriteMerchantsRoutingModule } from './favorite-merchants.routing.module';\r\nimport { StHeaderModule } from '@shared/ui-components/st-header/st-header.module';\r\nimport { FavoriteMerchantsResolver } from './resolvers/favorite-merchants.resolver';\r\nimport { FavoriteMerchantsService } from './services/favorite-merchants.service';\r\nimport { MerchantListModule } from '@sections/ordering/components/merchant-list/merchant-list.module';\r\nimport { FavoriteMerchantsComponent } from '@sections/ordering/pages';\r\nimport { StButtonModule } from '@shared/ui-components/st-button/st-button.module';\r\n\r\nconst imports = [CommonModule, IonicModule, FavoriteMerchantsRoutingModule, StHeaderModule, MerchantListModule, StButtonModule];\r\nconst declarations = [FavoriteMerchantsComponent];\r\nconst providers = [FavoriteMerchantsResolver, FavoriteMerchantsService];\r\n\r\n@NgModule({\r\n  declarations,\r\n  imports,\r\n  providers\r\n})\r\nexport class FavoriteMerchantsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FavoriteMerchantsComponent } from '@sections/ordering/pages';\r\nimport { FavoriteMerchantsResolver } from './resolvers/favorite-merchants.resolver';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FavoriteMerchantsComponent,\r\n    resolve: {\r\n      data: FavoriteMerchantsResolver,\r\n    },\r\n  },\r\n];\r\n\r\nconst imports = [RouterModule.forChild(routes)];\r\nconst exports = [RouterModule];\r\n\r\n@NgModule({ imports, exports })\r\nexport class FavoriteMerchantsRoutingModule { }\r\n","import { MerchantService } from '@sections/ordering';\r\nimport { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable, zip } from 'rxjs';\r\nimport { tap, map } from 'rxjs/operators';\r\nimport { FavoriteMerchantsService } from '../services/favorite-merchants.service';\r\nimport { LoadingService } from '@core/service/loading/loading.service';\r\nimport { MerchantInfo } from '@sections/ordering';\r\n\r\n@Injectable()\r\nexport class FavoriteMerchantsResolver implements Resolve<Observable<MerchantInfo[]>> {\r\n\r\n  constructor(\r\n    private readonly favoriteMerchantsService: FavoriteMerchantsService,\r\n    private readonly loadingService: LoadingService,\r\n    private readonly merchantService: MerchantService\r\n  ) { }\r\n\r\n  resolve(): Observable<MerchantInfo[]> {\r\n    this.loadingService.showSpinner();\r\n    return zip(this.favoriteMerchantsService\r\n      .getFavoriteMerchants(), this.merchantService.menuMerchants$)\r\n      .pipe(\r\n        map(([favoriteMerchants, merchants]) =>\r\n          favoriteMerchants.map(merchant => merchants.find(({ id }) => id === merchant.id))),\r\n        tap(() => {\r\n          this.loadingService.closeSpinner()\r\n        }, () => this.loadingService.closeSpinner()));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MerchantDistancePipe } from '@shared/pipes/merchant-distance/merchant-distance.pipe';\r\n\r\nconst declarations = [MerchantDistancePipe];\r\n\r\n@NgModule({\r\n  declarations,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    declarations,\r\n    MerchantDistancePipe,\r\n  ],\r\n})\r\nexport class MerchantDistanceModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { OrderingService } from '@sections/ordering/services/ordering.service';\r\nimport { ORDERING_CONTENT_STRINGS } from '@sections/ordering/ordering.config';\r\nimport { first } from 'rxjs/operators';\r\n\r\n@Pipe({\r\n  name: 'merchantDistance',\r\n  pure: false,\r\n})\r\nexport class MerchantDistancePipe implements PipeTransform {\r\n  transform(value: number): string {\r\n    return !value ? '' : `${value.toFixed(2)} mi`;\r\n  }\r\n}\r\n"],"sourceRoot":""}