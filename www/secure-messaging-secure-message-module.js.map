{"version":3,"sources":["webpack:///./src/app/sections/secure-messaging/secure-message-routing.module.ts","webpack:///./src/app/sections/secure-messaging/secure-message.module.ts","webpack:///./src/app/shared/pipes/conversation-date/conversation-date.module.ts","webpack:///./src/app/shared/pipes/conversation-date/conversation-date.pipe.ts","webpack:///./src/app/shared/pipes/conversation-date/index.ts","webpack:///./src/app/shared/ui-components/st-header/st-header.module.ts"],"names":[],"mappings":"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","file":"secure-messaging-secure-message-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SecureMessagePage } from './secure-message.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SecureMessagePage,\r\n  },\r\n];\r\n\r\nconst imports = [RouterModule.forChild(routes)];\r\nconst exports = [RouterModule];\r\n\r\n@NgModule({ imports, exports })\r\nexport class SecureMessageRoutingModule {}\r\n","import { NgModule, Provider } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SecureMessagePage } from './secure-message.page';\r\nimport { SecureMessagingService } from './service';\r\nimport { SecureMessagingApiService } from './service';\r\nimport { SecureMessageRoutingModule } from './secure-message-routing.module';\r\nimport { SecureMessagePopoverComponent } from './secure-message-popover';\r\nimport { StopPropagationModule } from '@shared/directives/stop-propogation/stop-propagation.module';\r\nimport { StPopoverLayoutModule } from '@shared/ui-components/st-popover-layout/st-popover-layout.module';\r\nimport { StHeaderModule } from '@shared/ui-components/st-header/st-header.module';\r\nimport { MessageDatePipeModule } from '@shared/pipes/message-date';\r\nimport { ConversationDatePipeModule } from '@shared/pipes/conversation-date';\r\n\r\nconst declarations = [SecureMessagePage, SecureMessagePopoverComponent];\r\n\r\nconst providers: Provider[] = [SecureMessagingService, SecureMessagingApiService];\r\n\r\nconst imports = [\r\n  CommonModule,\r\n  FormsModule,\r\n  IonicModule,\r\n  SecureMessageRoutingModule,\r\n  StopPropagationModule,\r\n  StPopoverLayoutModule,\r\n  StHeaderModule,\r\n  MessageDatePipeModule,\r\n  ConversationDatePipeModule\r\n];\r\n\r\nconst entryComponents = [SecureMessagePopoverComponent];\r\n\r\n@NgModule({ imports, providers, declarations, entryComponents })\r\nexport class SecureMessagePageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ConversationDatePipe } from './conversation-date.pipe';\r\n\r\nconst declarations = [ConversationDatePipe];\r\n@NgModule({\r\n  declarations,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: declarations\r\n})\r\nexport class ConversationDatePipeModule { }","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { SecureMessageConversation } from '@core/model/secure-messaging/secure-messaging.model';\r\n\r\n\r\n@Pipe({\r\n  name: 'conversationDate',\r\n  pure: false,\r\n})\r\nexport class ConversationDatePipe implements PipeTransform {\r\n  constructor(private datePipe: DatePipe) {}\r\n\r\n  transform({ messages }: SecureMessageConversation): any {\r\n    const today: Date = new Date();\r\n    const sentDate: Date = new Date(messages[messages.length - 1].sent_date);\r\n\r\n    /// > 1 year (Full timestamp)\r\n    if (today.getFullYear() > sentDate.getFullYear()) {\r\n      return this.datePipe.transform(sentDate, 'y');\r\n    }\r\n\r\n    /// > 5 days (<monthAbbv> <date>, xx:xx AM/PM)\r\n    if (today.getTime() - sentDate.getTime() > 432000000) {\r\n      return this.datePipe.transform(sentDate, 'MMM d');\r\n    }\r\n\r\n    /// > 2 days (<dayAbbv> xx:xx AM/PM)\r\n    if (today.getTime() - sentDate.getTime() >= 172800000) {\r\n      return this.datePipe.transform(sentDate, 'E');\r\n    }\r\n\r\n    /// > 30 minutes (xx:xx AM/PM)\r\n    if (today.getTime() - sentDate.getTime() > 1800000) {\r\n      return this.datePipe.transform(sentDate, 'h:mm a');\r\n    }\r\n\r\n    /// > 1 minute (x minutes ago)\r\n    if (today.getTime() - sentDate.getTime() > 60000) {\r\n      const minutesAgo = Math.round((today.getTime() - sentDate.getTime()) / 60000);\r\n      return minutesAgo.toString() + ' min';\r\n    }\r\n\r\n    /// < 1 minute (Now)\r\n    return 'Now';\r\n  }\r\n}\r\n","export * from './conversation-date.module';","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { StHeaderComponent } from './st-header.component';\r\n\r\nconst declarations = [StHeaderComponent];\r\n\r\n@NgModule({\r\n  declarations,\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule\r\n  ],\r\n  exports: declarations\r\n})\r\nexport class StHeaderModule { }\r\n"],"sourceRoot":""}