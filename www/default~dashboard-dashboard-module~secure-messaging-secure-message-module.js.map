{"version":3,"sources":["webpack:///./src/app/core/service/api-service/api.service.ts","webpack:///./src/app/sections/secure-messaging/secure-message-popover/index.ts","webpack:///./src/app/sections/secure-messaging/secure-message-popover/secure-message-popover.component.html","webpack:///./src/app/sections/secure-messaging/secure-message-popover/secure-message-popover.component.scss","webpack:///./src/app/sections/secure-messaging/secure-message-popover/secure-message-popover.component.ts","webpack:///./src/app/sections/secure-messaging/secure-message.page.html","webpack:///./src/app/sections/secure-messaging/secure-message.page.scss","webpack:///./src/app/sections/secure-messaging/secure-message.page.ts","webpack:///./src/app/sections/secure-messaging/service/index.ts","webpack:///./src/app/sections/secure-messaging/service/secure-messaging-api.service.ts","webpack:///./src/app/sections/secure-messaging/service/secure-messaging.service.ts","webpack:///./src/app/shared/pipes/message-date/index.ts","webpack:///./src/app/shared/pipes/message-date/message-date.module.ts","webpack:///./src/app/shared/pipes/message-date/message-date.pipe.ts"],"names":[],"mappings":"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","file":"default~dashboard-dashboard-module~secure-messaging-secure-message-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpHeaders, HttpParams, HttpClient } from '@angular/common/http';\r\n\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { subscribeOn, observeOn, timeout, catchError } from 'rxjs/operators';\r\nimport { async } from 'rxjs/internal/scheduler/async';\r\nimport { queue } from 'rxjs/internal/scheduler/queue';\r\n\r\nimport { Environment } from 'src/app/environment';\r\n\r\nexport enum RestCallType {\r\n  get,\r\n  post,\r\n  put,\r\n}\r\n\r\nexport enum HttpResponseType {\r\n  json,\r\n  text,\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class APIService {\r\n  private TIMEOUT_MS = 45000;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  /**\r\n   *  GET call to AWS API Gateway\r\n   *\r\n   * @param url           URL of REST call\r\n   * @param responseType  HTTP response type included in options\r\n   * @param params        Parameters of REST call\r\n   * @param headers       HTTP header information\r\n   */\r\n  get<T>(\r\n    url: string,\r\n    responseType: HttpResponseType = HttpResponseType.json,\r\n    params?: HttpParams,\r\n    headers?: HttpHeaders\r\n  ): Observable<T> {\r\n    const options: Object = this.getOptions(responseType, params, headers);\r\n\r\n    return this.http.get(url, options).pipe(\r\n      subscribeOn(async),\r\n      observeOn(queue),\r\n      timeout(this.TIMEOUT_MS)\r\n    ) as Observable<T>;\r\n  }\r\n\r\n  /**\r\n   *  PUT call to AWS API Gateway\r\n   *\r\n   * @param url           URL of REST call\r\n   * @param body\r\n   * @param responseType  HTTP response type included in options\r\n   * @param params        Parameters of REST call\r\n   * @param headers       HTTP header information\r\n   */\r\n  put(\r\n    url: string,\r\n    body: any,\r\n    responseType: HttpResponseType = HttpResponseType.json,\r\n    params?: HttpParams,\r\n    headers?: HttpHeaders\r\n  ): Observable<any> {\r\n    const options = this.getOptions(responseType, params, headers);\r\n    return this.http.put(url, body, options).pipe(\r\n      subscribeOn(async),\r\n      observeOn(queue),\r\n      timeout(this.TIMEOUT_MS)\r\n    );\r\n  }\r\n\r\n  /**\r\n   *  POST call to AWS API Gateway\r\n   *\r\n   * @param url           URL of REST call\r\n   * @param body\r\n   * @param responseType  Http response type included in options (text / json)\r\n   * @param params        Parameters of REST call\r\n   * @param headers       Http header information\r\n   */\r\n  post(\r\n    url: string,\r\n    body: any,\r\n    responseType: HttpResponseType = HttpResponseType.json,\r\n    params?: HttpParams,\r\n    headers?: HttpHeaders\r\n  ): Observable<any> {\r\n    const options = this.getOptions(responseType, params, headers);\r\n    return this.http.post(url, body, options).pipe(\r\n      subscribeOn(async),\r\n      observeOn(queue),\r\n      timeout(this.TIMEOUT_MS)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Call to REST backend (AWS API Gateway)\r\n   *\r\n   * @param callType      REST call type (post, put, get, etc)\r\n   * @param resourceURL   URL of resource in API\r\n   * @param responseType  Http response type (text / json)\r\n   * @param body          Body of call\r\n   * @param params        Parameters of call\r\n   * @param headers       Http header information\r\n   */\r\n  authenticatedHTTPCall(\r\n    callType: RestCallType,\r\n    resourceURL: string,\r\n    responseType: HttpResponseType = HttpResponseType.json,\r\n    body?: any,\r\n    params?: HttpParams,\r\n    headers?: HttpHeaders\r\n  ): Observable<any> {\r\n    const finalURL = Environment.getSecureMessagingAPIURL().concat(resourceURL);\r\n    let httpCall$;\r\n    switch (callType) {\r\n      case RestCallType.get:\r\n        httpCall$ = this.get<any>(finalURL, responseType, params, headers);\r\n        break;\r\n      case RestCallType.post:\r\n        httpCall$ = this.post(finalURL, body, responseType, params, headers);\r\n        break;\r\n      case RestCallType.put:\r\n        httpCall$ = this.put(finalURL, body, responseType, params, headers);\r\n        break;\r\n    }\r\n\r\n    return httpCall$.pipe(catchError(error => throwError({ message: 'There was an issue with the request' })));\r\n  }\r\n  \r\n    /**\r\n   * Call to REST backend (Partner API Gateway)\r\n   *\r\n   * @param callType      REST call type (post, put, get, etc)\r\n   * @param resourceURL   URL of resource in API\r\n   * @param responseType  Http response type (text / json)\r\n   * @param body          Body of call\r\n   * @param params        Parameters of call\r\n   * @param headers       Http header information\r\n   */\r\n  partnerHTTPCall(\r\n    callType: RestCallType,\r\n    resourceURL: string,\r\n    responseType: HttpResponseType = HttpResponseType.json,\r\n    body?: any,\r\n    params?: HttpParams,\r\n    headers?: HttpHeaders\r\n  ): Observable<any> {\r\n    const finalURL = Environment.getPartnerServicesURL().concat(resourceURL);\r\n    let httpCall$;\r\n    switch (callType) {\r\n      case RestCallType.get:\r\n        httpCall$ = this.get<any>(finalURL, responseType, params, headers);\r\n        break;\r\n      case RestCallType.post:\r\n        httpCall$ = this.post(finalURL, body, responseType, params, headers);\r\n        break;\r\n      case RestCallType.put:\r\n        httpCall$ = this.put(finalURL, body, responseType, params, headers);\r\n        break;\r\n    }\r\n    return httpCall$.pipe(catchError(error => throwError({ message: 'There was an issue with the request' })));\r\n  }\r\n  /**\r\n   * Create options object for Rest http call\r\n   *\r\n   * @param responseType  Http response type included in options (text / json)\r\n   * @param params        Parameters of REST call\r\n   * @param headers       Http header information\r\n   */\r\n  private getOptions(\r\n    responseType: HttpResponseType = HttpResponseType.json,\r\n    params?: HttpParams,\r\n    headers?: HttpHeaders\r\n  ): object {\r\n    const options = { responseType: responseType === HttpResponseType.json ? 'json' : 'text' };\r\n    if (params) {\r\n      Object.assign(options, { params: params });\r\n    }\r\n    if (headers) {\r\n      Object.assign(options, { headers: headers });\r\n    }\r\n    return options;\r\n  }\r\n}\r\n","export * from './secure-message-popover.component';\r\n","module.exports = \"<st-popover-layout [popoverConfig]=\\\"popoverConfig\\\">\\r\\n    <div class=\\\"sm-popover__content\\\">\\r\\n        {{ popoverConfig.message }}\\r\\n    </div>\\r\\n</st-popover-layout>\\r\\n\"","module.exports = \"/** Ionic CSS Variables **/\\n:root {\\n  /** primary **/\\n  --ion-color-primary: #005cb9;\\n  --ion-color-primary-rgb: 0, 92, 185;\\n  --ion-color-primary-contrast: #ffffff;\\n  --ion-color-primary-contrast-rgb: 255, 255, 255;\\n  --ion-color-primary-shade: #0051a3;\\n  --ion-color-primary-tint: #1a6cc0;\\n  /** secondary **/\\n  --ion-color-secondary: #0cd1e8;\\n  --ion-color-secondary-rgb: 12, 209, 232;\\n  --ion-color-secondary-contrast: #ffffff;\\n  --ion-color-secondary-contrast-rgb: 255, 255, 255;\\n  --ion-color-secondary-shade: #0bb8cc;\\n  --ion-color-secondary-tint: #24d6ea;\\n  /** tertiary **/\\n  --ion-color-tertiary: #7044ff;\\n  --ion-color-tertiary-rgb: 112, 68, 255;\\n  --ion-color-tertiary-contrast: #ffffff;\\n  --ion-color-tertiary-contrast-rgb: 255, 255, 255;\\n  --ion-color-tertiary-shade: #633ce0;\\n  --ion-color-tertiary-tint: #7e57ff;\\n  /** success **/\\n  --ion-color-success: #10dc60;\\n  --ion-color-success-rgb: 16, 220, 96;\\n  --ion-color-success-contrast: #ffffff;\\n  --ion-color-success-contrast-rgb: 255, 255, 255;\\n  --ion-color-success-shade: #0ec254;\\n  --ion-color-success-tint: #28e070;\\n  /** warning **/\\n  --ion-color-warning: #ffce00;\\n  --ion-color-warning-rgb: 255, 206, 0;\\n  --ion-color-warning-contrast: #ffffff;\\n  --ion-color-warning-contrast-rgb: 255, 255, 255;\\n  --ion-color-warning-shade: #e0b500;\\n  --ion-color-warning-tint: #ffd31a;\\n  /** danger **/\\n  --ion-color-danger: #f04141;\\n  --ion-color-danger-rgb: 245, 61, 61;\\n  --ion-color-danger-contrast: #ffffff;\\n  --ion-color-danger-contrast-rgb: 255, 255, 255;\\n  --ion-color-danger-shade: #d33939;\\n  --ion-color-danger-tint: #f25454;\\n  /** dark **/\\n  --ion-color-dark: #222428;\\n  --ion-color-dark-rgb: 34, 34, 34;\\n  --ion-color-dark-contrast: #ffffff;\\n  --ion-color-dark-contrast-rgb: 255, 255, 255;\\n  --ion-color-dark-shade: #1e2023;\\n  --ion-color-dark-tint: #383a3e;\\n  /** medium **/\\n  --ion-color-medium: #989aa2;\\n  --ion-color-medium-rgb: 152, 154, 162;\\n  --ion-color-medium-contrast: #ffffff;\\n  --ion-color-medium-contrast-rgb: 255, 255, 255;\\n  --ion-color-medium-shade: #86888f;\\n  --ion-color-medium-tint: #a2a4ab;\\n  /** light **/\\n  --ion-color-light: #f4f5f8;\\n  --ion-color-light-rgb: 244, 244, 244;\\n  --ion-color-light-contrast: #000000;\\n  --ion-color-light-contrast-rgb: 0, 0, 0;\\n  --ion-color-light-shade: #d7d8da;\\n  --ion-color-light-tint: #f5f6f9; }\\n:host .sm-popover__content {\\n  margin-bottom: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VjdGlvbnMvc2VjdXJlLW1lc3NhZ2luZy9zZWN1cmUtbWVzc2FnZS1wb3BvdmVyL0M6XFxVc2Vyc1xcYnNwXFxEb2N1bWVudHNcXEdpdFJlcG9zXFxjYm9yZC1zdHVkZW50L3NyY1xcc3R5bGVzXFxfdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL3NlY3Rpb25zL3NlY3VyZS1tZXNzYWdpbmcvc2VjdXJlLW1lc3NhZ2UtcG9wb3Zlci9DOlxcVXNlcnNcXGJzcFxcRG9jdW1lbnRzXFxHaXRSZXBvc1xcY2JvcmQtc3R1ZGVudC9zcmNcXGFwcFxcc2VjdGlvbnNcXHNlY3VyZS1tZXNzYWdpbmdcXHNlY3VyZS1tZXNzYWdlLXBvcG92ZXJcXHNlY3VyZS1tZXNzYWdlLXBvcG92ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEJBQUE7QUFDQTtFQUNFLGNBQUE7RUFDQSw0QkFBb0I7RUFDcEIsbUNBQXdCO0VBQ3hCLHFDQUE2QjtFQUM3QiwrQ0FBaUM7RUFDakMsa0NBQTBCO0VBQzFCLGlDQUF5QjtFQUV6QixnQkFBQTtFQUNBLDhCQUFzQjtFQUN0Qix1Q0FBMEI7RUFDMUIsdUNBQStCO0VBQy9CLGlEQUFtQztFQUNuQyxvQ0FBNEI7RUFDNUIsbUNBQTJCO0VBRTNCLGVBQUE7RUFDQSw2QkFBcUI7RUFDckIsc0NBQXlCO0VBQ3pCLHNDQUE4QjtFQUM5QixnREFBa0M7RUFDbEMsbUNBQTJCO0VBQzNCLGtDQUEwQjtFQUUxQixjQUFBO0VBQ0EsNEJBQW9CO0VBQ3BCLG9DQUF3QjtFQUN4QixxQ0FBNkI7RUFDN0IsK0NBQWlDO0VBQ2pDLGtDQUEwQjtFQUMxQixpQ0FBeUI7RUFFekIsY0FBQTtFQUNBLDRCQUFvQjtFQUNwQixvQ0FBd0I7RUFDeEIscUNBQTZCO0VBQzdCLCtDQUFpQztFQUNqQyxrQ0FBMEI7RUFDMUIsaUNBQXlCO0VBRXpCLGFBQUE7RUFDQSwyQkFBbUI7RUFDbkIsbUNBQXVCO0VBQ3ZCLG9DQUE0QjtFQUM1Qiw4Q0FBZ0M7RUFDaEMsaUNBQXlCO0VBQ3pCLGdDQUF3QjtFQUV4QixXQUFBO0VBQ0EseUJBQWlCO0VBQ2pCLGdDQUFxQjtFQUNyQixrQ0FBMEI7RUFDMUIsNENBQThCO0VBQzlCLCtCQUF1QjtFQUN2Qiw4QkFBc0I7RUFFdEIsYUFBQTtFQUNBLDJCQUFtQjtFQUNuQixxQ0FBdUI7RUFDdkIsb0NBQTRCO0VBQzVCLDhDQUFnQztFQUNoQyxpQ0FBeUI7RUFDekIsZ0NBQXdCO0VBRXhCLFlBQUE7RUFDQSwwQkFBa0I7RUFDbEIsb0NBQXNCO0VBQ3RCLG1DQUEyQjtFQUMzQix1Q0FBK0I7RUFDL0IsZ0NBQXdCO0VBQ3hCLCtCQUF1QixFQUFBO0FDdEV6QjtFQUdHLG1CQUFtQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvc2VjdGlvbnMvc2VjdXJlLW1lc3NhZ2luZy9zZWN1cmUtbWVzc2FnZS1wb3BvdmVyL3NlY3VyZS1tZXNzYWdlLXBvcG92ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogSW9uaWMgQ1NTIFZhcmlhYmxlcyAqKi9cclxuOnJvb3Qge1xyXG4gIC8qKiBwcmltYXJ5ICoqL1xyXG4gIC0taW9uLWNvbG9yLXByaW1hcnk6ICMwMDVjYjk7XHJcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1yZ2I6IDAsIDkyLCAxODU7XHJcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci1wcmltYXJ5LWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1wcmltYXJ5LXNoYWRlOiAjMDA1MWEzO1xyXG4gIC0taW9uLWNvbG9yLXByaW1hcnktdGludDogIzFhNmNjMDtcclxuXHJcbiAgLyoqIHNlY29uZGFyeSAqKi9cclxuICAtLWlvbi1jb2xvci1zZWNvbmRhcnk6ICMwY2QxZTg7XHJcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LXJnYjogMTIsIDIwOSwgMjMyO1xyXG4gIC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3QtcmdiOiAyNTUsIDI1NSwgMjU1O1xyXG4gIC0taW9uLWNvbG9yLXNlY29uZGFyeS1zaGFkZTogIzBiYjhjYztcclxuICAtLWlvbi1jb2xvci1zZWNvbmRhcnktdGludDogIzI0ZDZlYTtcclxuXHJcbiAgLyoqIHRlcnRpYXJ5ICoqL1xyXG4gIC0taW9uLWNvbG9yLXRlcnRpYXJ5OiAjNzA0NGZmO1xyXG4gIC0taW9uLWNvbG9yLXRlcnRpYXJ5LXJnYjogMTEyLCA2OCwgMjU1O1xyXG4gIC0taW9uLWNvbG9yLXRlcnRpYXJ5LWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gIC0taW9uLWNvbG9yLXRlcnRpYXJ5LWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS1zaGFkZTogIzYzM2NlMDtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS10aW50OiAjN2U1N2ZmO1xyXG5cclxuICAvKiogc3VjY2VzcyAqKi9cclxuICAtLWlvbi1jb2xvci1zdWNjZXNzOiAjMTBkYzYwO1xyXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3MtcmdiOiAxNiwgMjIwLCA5NjtcclxuICAtLWlvbi1jb2xvci1zdWNjZXNzLWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3MtY29udHJhc3QtcmdiOiAyNTUsIDI1NSwgMjU1O1xyXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3Mtc2hhZGU6ICMwZWMyNTQ7XHJcbiAgLS1pb24tY29sb3Itc3VjY2Vzcy10aW50OiAjMjhlMDcwO1xyXG5cclxuICAvKiogd2FybmluZyAqKi9cclxuICAtLWlvbi1jb2xvci13YXJuaW5nOiAjZmZjZTAwO1xyXG4gIC0taW9uLWNvbG9yLXdhcm5pbmctcmdiOiAyNTUsIDIwNiwgMDtcclxuICAtLWlvbi1jb2xvci13YXJuaW5nLWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gIC0taW9uLWNvbG9yLXdhcm5pbmctY29udHJhc3QtcmdiOiAyNTUsIDI1NSwgMjU1O1xyXG4gIC0taW9uLWNvbG9yLXdhcm5pbmctc2hhZGU6ICNlMGI1MDA7XHJcbiAgLS1pb24tY29sb3Itd2FybmluZy10aW50OiAjZmZkMzFhO1xyXG5cclxuICAvKiogZGFuZ2VyICoqL1xyXG4gIC0taW9uLWNvbG9yLWRhbmdlcjogI2YwNDE0MTtcclxuICAtLWlvbi1jb2xvci1kYW5nZXItcmdiOiAyNDUsIDYxLCA2MTtcclxuICAtLWlvbi1jb2xvci1kYW5nZXItY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1kYW5nZXItc2hhZGU6ICNkMzM5Mzk7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLXRpbnQ6ICNmMjU0NTQ7XHJcblxyXG4gIC8qKiBkYXJrICoqL1xyXG4gIC0taW9uLWNvbG9yLWRhcms6ICMyMjI0Mjg7XHJcbiAgLS1pb24tY29sb3ItZGFyay1yZ2I6IDM0LCAzNCwgMzQ7XHJcbiAgLS1pb24tY29sb3ItZGFyay1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci1kYXJrLWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1kYXJrLXNoYWRlOiAjMWUyMDIzO1xyXG4gIC0taW9uLWNvbG9yLWRhcmstdGludDogIzM4M2EzZTtcclxuXHJcbiAgLyoqIG1lZGl1bSAqKi9cclxuICAtLWlvbi1jb2xvci1tZWRpdW06ICM5ODlhYTI7XHJcbiAgLS1pb24tY29sb3ItbWVkaXVtLXJnYjogMTUyLCAxNTQsIDE2MjtcclxuICAtLWlvbi1jb2xvci1tZWRpdW0tY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3ItbWVkaXVtLWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1tZWRpdW0tc2hhZGU6ICM4Njg4OGY7XHJcbiAgLS1pb24tY29sb3ItbWVkaXVtLXRpbnQ6ICNhMmE0YWI7XHJcblxyXG4gIC8qKiBsaWdodCAqKi9cclxuICAtLWlvbi1jb2xvci1saWdodDogI2Y0ZjVmODtcclxuICAtLWlvbi1jb2xvci1saWdodC1yZ2I6IDI0NCwgMjQ0LCAyNDQ7XHJcbiAgLS1pb24tY29sb3ItbGlnaHQtY29udHJhc3Q6ICMwMDAwMDA7XHJcbiAgLS1pb24tY29sb3ItbGlnaHQtY29udHJhc3QtcmdiOiAwLCAwLCAwO1xyXG4gIC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlOiAjZDdkOGRhO1xyXG4gIC0taW9uLWNvbG9yLWxpZ2h0LXRpbnQ6ICNmNWY2Zjk7XHJcblxyXG4gIC8vIC0taW9uLWdyaWQtd2lkdGgtc206IDBweDtcclxufVxyXG5cclxuLy8gRk9OVFNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4kZm9udC1udW5pdG8tcmVndWxhcjogJ051bml0byBSZWd1bGFyJywgYXJpYWwsIHNhbnMtc2VyaWY7XHJcbiRmb250LW51bml0by1zZW1pYm9sZDogJ051bml0byBTZW1pQm9sZCcsIGFyaWFsLCBzYW5zLXNlcmlmO1xyXG4kZm9udC1udW5pdG8taGVhdnk6ICdOdW5pdG8gQm9sZCcsIGFyaWFsLCBzYW5zLXNlcmlmO1xyXG5cclxuLy8gQ09MT1JTXHJcblxyXG4kY29sb3ItdmVyeS1saWdodC1ncmF5OiAjY2NjO1xyXG4kY29sb3ItbGluay13YXRlcjogI2Q0ZDZkODtcclxuJGNvbG9yLXdoaXNwZXI6ICNlOWU5ZTk7XHJcbiRjb2xvci1kYXJrLWdyYXk6ICNhYWE7XHJcbiRjb2xvci1kdXN0eS1ncmF5OiAjOTc5Nzk3O1xyXG4kY29sb3ItZGltLWdyYXk6ICM2ZTZlNmU7XHJcbiRjb2xvci1zb2xpdHVkZTogI0VDRjFGODtcclxuJGNvbG9yLW5pZ2h0LXJpZGVyOiAjMzMzO1xyXG4kY29sb3ItbmF2eS1ibHVlOiAjMDA1NmU2O1xyXG4kY29sb3ItZGVuaW06ICMxMzYwZTA7XHJcbiRjb2xvci1kb2RnZXItYmx1ZTogIzE2NmRmZjtcclxuJGNvbG9yLWRvZGdlci1ibHVlLWxpZ2h0ZXI6ICMyZDdjZmY7XHJcbiRjb2xvci13aGl0ZTogI2ZmZjtcclxuJGNvbG9yLWJsYWNrOiAjMDAwO1xyXG4kY29sb3Itd2hpdGUtc21va2U6ICNmM2YzZjM7XHJcbiRjb2xvci1kZWVwLXNreS1ibHVlOiAjMDBhMGZmO1xyXG4kY29sb3ItbGlnaHQtc2t5LWJsdWU6ICM4YmI3ZmY7XHJcbiRjb2xvci1saWdodC1za3ktYmx1ZTogIzg4YzhmZjtcclxuJGNvbG9yLXN0cm9uZy1ibHVlOiAjMDA0M2IzO1xyXG4kY29sb3ItYWxpY2UtYmx1ZTogI2YwZjNmNTtcclxuJGNvbG9yLXNpbHZlcjogI2M0YzRjNDtcclxuJGNvbG9yLW1hdHRlcmhvcm46ICM1MTUxNTE7XHJcbiRjb2xvci12ZXJ5LWRhcmstZ3JheTogIzYyNjI2MjtcclxuJGNvbG9yLW1lcmN1cnk6ICNlN2U3ZTc7XHJcbiRjb2xvci1saWdodC1ncmF5OiAjZDhkOGQ4O1xyXG4kY29sb3Itd2hpc3BlcjogI2ViZWJlYjtcclxuJGNvbG9yLWFsaXphcmluOiAjZTIyOTQyO1xyXG4kY29sb3ItZmxhbWUtcmVkOiAjODgxOTI4O1xyXG4kY29sb3ItY2hhcmNvYWw6ICM0NjQ2NDY7XHJcbiRjb2xvci1kZWVwLXNlYTogIzE0N2Q2MztcclxuJGNvbG9yLWNhcmRpbmFsOiAjYjUyMTM1O1xyXG4kY29sb3ItZ29kLWdyYXk6ICMxNjE2MTY7XHJcbiRjb2xvci1ob3QtY3Vycnk6ICM3YzVkMjM7XHJcbiRjb2xvci1jYXNhYmxhbmNhOiAjZjdiYTQ1O1xyXG4kY29sb3ItYWxhYmFzdGVyOiAjZjdmN2Y3O1xyXG4kcG9yY2VsYWluOiAjZTZlOWViO1xyXG4kY29sb3ItaGFybGV5LWRhdmlkc29uLW9yYW5nZTogI0QwNDMxQTtcclxuJGNvbG9yLXBhdHRlbnMtYmx1ZTogI2UwZTNlNTtcclxuXHJcbi8vLyBTaXplXHJcbiRib3R0b20tbmF2aWdhdGlvbi1iYXItaGVpZ2h0OiA1MHB4O1xyXG4iLCJAaW1wb3J0ICd0b29scyc7XHJcblxyXG46aG9zdCB7XHJcblx0LnNtLXBvcG92ZXIge1xyXG5cdFx0Jl9fY29udGVudCB7XHJcblx0XHRcdG1hcmdpbi1ib3R0b206IDEwcHg7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { PopoverConfig } from 'src/app/core/model/popover/popover.model';\r\nimport { buttons } from '../../../core/utils/buttons.config';\r\n\r\n@Component({\r\n  selector: 'secure-message-popover',\r\n  templateUrl: './secure-message-popover.component.html',\r\n  styleUrls: ['./secure-message-popover.component.scss'],\r\n})\r\nexport class SecureMessagePopoverComponent implements OnInit {\r\n  @Input() data: any;\r\n\r\n  popoverConfig: PopoverConfig<string>;\r\n  contentString: { [key: string]: string };\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {\r\n    // this.setContentStrings();\r\n    this.initPopover();\r\n  }\r\n\r\n  initPopover() {\r\n    const { message, title } = this.data;\r\n\r\n    this.popoverConfig = {\r\n      ...this.popoverConfig,\r\n      title,\r\n      message,\r\n      buttons: this.configureButtons(),\r\n    };\r\n  }\r\n\r\n  configureButtons() {\r\n    return [{ ...buttons.CLOSE, label: 'CLOSE' }, { ...buttons.RETRY, label: 'RETRY' }];\r\n  }\r\n\r\n  // private setContentStrings() {\r\n  //   const errorResponseDialogHeader = this.mobileAccessService.getContentValueByName(\r\n  //     CONTENT_STRINGS.errorResponseDialogHeader,\r\n  //   );\r\n  //   const successResponseDialogHeader = this.mobileAccessService.getContentValueByName(\r\n  //     CONTENT_STRINGS.successResponseDialogHeader,\r\n  //   );\r\n  //   const scanBarcodeDialogHeader = this.mobileAccessService.getContentValueByName(\r\n  //     CONTENT_STRINGS.scanBarcodeDialogHeader,\r\n  //   );\r\n  //   const enterCodeDialogHeader = this.mobileAccessService.getContentValueByName(CONTENT_STRINGS.enterCodeDialogHeader);\r\n  //   const closeBtn = this.mobileAccessService.getContentValueByName(CONTENT_STRINGS.closeBtn);\r\n  //   const retryBtn = this.mobileAccessService.getContentValueByName(CONTENT_STRINGS.retryBtn);\r\n  //   const cancelBtn = this.mobileAccessService.getContentValueByName(CONTENT_STRINGS.cancelBtn);\r\n  //\r\n  //   this.contentString = {\r\n  //     errorResponseDialogHeader,\r\n  //     successResponseDialogHeader,\r\n  //     scanBarcodeDialogHeader,\r\n  //     enterCodeDialogHeader,\r\n  //     closeBtn,\r\n  //     retryBtn,\r\n  //     cancelBtn,\r\n  //   };\r\n  // }\r\n}\r\n","module.exports = \"<st-header\\r\\n        *ngIf=\\\"showToolbar()\\\"\\r\\n        title='Messages'\\r\\n        [isTitleShow]=\\\"true\\\"\\r\\n        [isToolbarShow]=\\\"true\\\"\\r\\n        [isBackButtonShow]=\\\"false\\\"\\r\\n        class=\\\"shadow-header\\\"\\r\\n></st-header>\\r\\n\\r\\n<ion-grid class=\\\"secure-message ion-no-padding\\\">\\r\\n  <!-- row for whole window -->\\r\\n  <ion-row class=\\\"secure-message__container\\\">\\r\\n    <!-- column for groups -->\\r\\n    <ion-col\\r\\n      *ngIf=\\\"isConversationsColumnAppear\\\"\\r\\n      size-sm=\\\"5\\\"\\r\\n      size-md=\\\"5\\\"\\r\\n      size-lg=\\\"4\\\"\\r\\n      size-xl=\\\"3\\\"\\r\\n      class=\\\"secure-message__conversations conversations-container\\\"\\r\\n    >\\r\\n      <!-- header with start convos option -->\\r\\n      <ion-header no-border *ngIf=\\\"isMainPage()\\\">\\r\\n        <ion-item button lines=\\\"none\\\" class=\\\"conversations-container__item\\\" (click)=\\\"onClickStartConversation()\\\">\\r\\n          <ion-avatar slot=\\\"start\\\" class=\\\"conversations-container__avatar-shadow primary-background\\\">\\r\\n            <ion-icon name=\\\"chatbubbles\\\" class=\\\"conversations-container__avatar-icon\\\"></ion-icon>\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            <h3>Start conversation</h3>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-header>\\r\\n      <!-- list with available groups -->\\r\\n      <ion-list class=\\\"conversations-container__groups\\\" scrollY=\\\"true\\\">\\r\\n        <ion-item\\r\\n          button\\r\\n          lines=\\\"none\\\"\\r\\n          detail=\\\"false\\\"\\r\\n          *ngFor=\\\"let conversation of conversationsArray; trackBy: trackConversationsByFn\\\"\\r\\n          (click)=\\\"onClickConversation(conversation)\\\"\\r\\n          class=\\\"conversations-container__group\\\"\\r\\n          [ngClass]=\\\"{ 'conversations-container__group--selected' : conversation.selected }\\\"\\r\\n        >\\r\\n          <ion-avatar slot=\\\"start\\\" class=\\\"purple-background\\\">\\r\\n            <h3 class=\\\"conversations-container__avatar-text\\\">{{getConversationGroupInitial(conversation)}}</h3>\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            <h3>{{getConversationGroupName(conversation)}}</h3>\\r\\n            <p>{{getConversationDescription(conversation)}}</p>\\r\\n          </ion-label>\\r\\n          <div class=\\\"text-align-end\\\" style=\\\"height: 65%;\\\">\\r\\n            <p style=\\\"display: inline; font-size: 0.75em;\\\" slot=\\\"end\\\">{{ conversation | conversationDate}}</p>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ion-col>\\r\\n    <!-- col for current conversation chat -->\\r\\n    <ion-col\\r\\n      *ngIf=\\\"showSelectedConversationContentColumn()\\\"\\r\\n      size-sm=\\\"7\\\"\\r\\n      size-md=\\\"7\\\"\\r\\n      size-lg=\\\"8\\\"\\r\\n      size-xl=\\\"9\\\"\\r\\n      class=\\\"secure-message__conversation conversation-container\\\"\\r\\n    >\\r\\n      <ion-header no-border *ngIf=\\\"checkIfOpen()\\\">\\r\\n        <ion-toolbar>\\r\\n          <ion-buttons class=\\\"btn-wrapper\\\" *ngIf=\\\"!bIsLargeScreen\\\" slot=\\\"start\\\">\\r\\n              <ion-back-button (click)=\\\"onClickBackConversation()\\\"\\r\\n                               class=\\\"btn\\\"\\r\\n                               color=\\\"dark\\\"\\r\\n                               [icon]=\\\"'ios-arrow-back'\\\"\\r\\n                               mode=\\\"ios\\\"></ion-back-button>\\r\\n          </ion-buttons>\\r\\n          <ion-title>{{getConversationGroupName(selectedConversation)}}</ion-title>\\r\\n        </ion-toolbar>\\r\\n      </ion-header>\\r\\n      <!-- grid for chat window -->\\r\\n      <div #chatScroll scrollY=\\\"true\\\" [scrollTop]=\\\"chatScroll.scrollHeight\\\" class=\\\"conversation-container__chat\\\">\\r\\n        <ion-grid>\\r\\n          <div *ngFor=\\\"let message of selectedConversation.messages; let i = index; trackBy: trackMessagesByFn\\\">\\r\\n            <!-- row for group -->\\r\\n            <ion-row *ngIf=\\\"message.sender.type === 'group'\\\">\\r\\n              <ion-col\\r\\n                size-xs=\\\"2\\\"\\r\\n                size-sm=\\\"2\\\"\\r\\n                size-md=\\\"2\\\"\\r\\n                size-lg=\\\"2\\\"\\r\\n                size-xl=\\\"2\\\"\\r\\n                class=\\\"ion-align-self-end ion-no-padding\\\"\\r\\n              >\\r\\n                <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n                  <ion-avatar\\r\\n                    *ngIf=\\\"messageShowAvatar(selectedConversation, i, 'group')\\\"\\r\\n                    slot=\\\"end\\\"\\r\\n                    class=\\\"purple-background conversation-container__chat-avatar\\\"\\r\\n                  >\\r\\n                    <h3 class=\\\"conversation-container__avatar-text\\\">\\r\\n                      {{getConversationGroupInitial(selectedConversation)}}\\r\\n                    </h3>\\r\\n                  </ion-avatar>\\r\\n                </ion-item>\\r\\n              </ion-col>\\r\\n              <ion-col size-xs=\\\"9\\\" size-sm=\\\"9\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n                <ion-item lines=\\\"none\\\" class=\\\"conversation-container__body-wrapper ion-no-padding\\\">\\r\\n                  <p class=\\\"conversation-container__text-bubble light-grey-background\\\">{{message.body}}</p>\\r\\n                </ion-item>\\r\\n                <div\\r\\n                  *ngIf=\\\"messageShowDate(selectedConversation, i, 'group')\\\"\\r\\n                  class=\\\"conversation-container__date-wrapper\\\"\\r\\n                >\\r\\n                  <p class=\\\"conversation-container__text-date\\\">{{ message | messageDate }}</p>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size-xs=\\\"1\\\" size-sm=\\\"1\\\" size-md=\\\"4\\\" size-lg=\\\"4\\\" size-xl=\\\"4\\\" class=\\\"ion-no-padding\\\"> </ion-col>\\r\\n            </ion-row>\\r\\n            <!-- row for patron -->\\r\\n            <ion-row class=\\\"ion-justify-content-end\\\" *ngIf=\\\"message.sender.type === 'patron'\\\">\\r\\n              <ion-col size-xs=\\\"1\\\" size-sm=\\\"1\\\" size-md=\\\"5\\\" size-lg=\\\"5\\\" size-xl=\\\"5\\\" class=\\\"ion-no-padding\\\"> </ion-col>\\r\\n              <ion-col size-xs=\\\"11\\\" size-sm=\\\"11\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"6\\\" size=\\\"6\\\" class=\\\"ion-no-padding\\\">\\r\\n                <ion-item lines=\\\"none\\\" class=\\\"conversation-container__body-wrapper\\\">\\r\\n                  <div class=\\\"ion-text-end\\\" style=\\\"width: 100%;\\\">\\r\\n                    <p class=\\\"conversation-container__text-bubble light-blue-background\\\">{{message.body}}</p>\\r\\n                  </div>\\r\\n                </ion-item>\\r\\n                <div\\r\\n                  *ngIf=\\\"messageShowDate(selectedConversation, i, 'patron')\\\"\\r\\n                  class=\\\"conversation-container__date-wrapper ion-text-end\\\"\\r\\n                >\\r\\n                  <p class=\\\"conversation-container__text-date\\\" style=\\\"padding-right: 16px;\\\">\\r\\n                    {{message | messageDate}}\\r\\n                  </p>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size-xs=\\\"0\\\" size-sm=\\\"0\\\" size-md=\\\"1\\\" size-lg=\\\"1\\\" size-xl=\\\"1\\\" class=\\\"ion-no-padding\\\"> </ion-col>\\r\\n            </ion-row>\\r\\n          </div>\\r\\n        </ion-grid>\\r\\n      </div>\\r\\n      <!-- grid for text area -->\\r\\n      <ion-grid class=\\\"conversation-container__text-area-wrapper\\\">\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"1\\\"></ion-col>\\r\\n          <!-- col for text area -->\\r\\n          <ion-col size=\\\"9\\\">\\r\\n            <ion-textarea\\r\\n              #chatInput\\r\\n              [(ngModel)]=\\\"newMessageText\\\"\\r\\n              rows=\\\"2\\\"\\r\\n              [spellcheck]=\\\"true\\\"\\r\\n              placeholder=\\\"Text message\\\"\\r\\n              class=\\\"conversation-container__text-area\\\"\\r\\n            >\\r\\n            </ion-textarea>\\r\\n          </ion-col>\\r\\n          <!-- col for send button -->\\r\\n          <ion-col size=\\\"1\\\" class=\\\"ion-align-self-center\\\">\\r\\n            <ion-button\\r\\n              shape=\\\"round\\\"\\r\\n              size=\\\"small\\\"\\r\\n              color=\\\"primary\\\"\\r\\n              mode=\\\"md\\\"\\r\\n              (click)=\\\"onClickSendButton()\\\"\\r\\n              class=\\\"conversation-container__text-area-btn\\\"\\r\\n              appClickStopPropagation\\r\\n            >\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"send\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"1\\\"></ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-col>\\r\\n    <!-- col for current new conversation creation -->\\r\\n    <ion-col\\r\\n      *ngIf=\\\"showCreateNewConversationColumn()\\\"\\r\\n      size-sm=\\\"7\\\"\\r\\n      size-md=\\\"7\\\"\\r\\n      size-lg=\\\"8\\\"\\r\\n      size-xl=\\\"9\\\"\\r\\n      class=\\\"secure-message__conversation-creation conversation-creation-container\\\"\\r\\n    >\\r\\n      <ion-header no-border>\\r\\n        <ion-toolbar>\\r\\n          <ion-buttons *ngIf=\\\"!bIsLargeScreen\\\" slot=\\\"start\\\">\\r\\n            <ion-button (click)=\\\"onClickBackNewConversation()\\\">\\r\\n              <ion-icon name=\\\"arrow-back\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n          <ion-title>New Conversation</ion-title>\\r\\n        </ion-toolbar>\\r\\n      </ion-header>\\r\\n      <!-- grid for available group list window -->\\r\\n      <!-- list with available groups -->\\r\\n      <ion-list class=\\\"conversation-creation-container__groups\\\" scrollY=\\\"true\\\">\\r\\n        <ion-list-header>\\r\\n          <ion-label>Contacts</ion-label>\\r\\n        </ion-list-header>\\r\\n        <ion-item\\r\\n          button\\r\\n          class=\\\"ion-no-padding\\\"\\r\\n          lines=\\\"none\\\"\\r\\n          *ngFor=\\\"let group of groupsArray\\\"\\r\\n          (click)=\\\"onClickMakeNewConversation(group)\\\"\\r\\n        >\\r\\n          <ion-avatar slot=\\\"start\\\" class=\\\"purple-background\\\">\\r\\n            <h3 class=\\\"conversation-creation-container__avatar-text\\\">{{getGroupInitial(group)}}</h3>\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            <h3>{{getGroupName(group)}}</h3>\\r\\n            <p>{{getGroupDescription(group)}}</p>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-grid>\\r\\n\"","module.exports = \"/** Ionic CSS Variables **/\\n:root {\\n  /** primary **/\\n  --ion-color-primary: #005cb9;\\n  --ion-color-primary-rgb: 0, 92, 185;\\n  --ion-color-primary-contrast: #ffffff;\\n  --ion-color-primary-contrast-rgb: 255, 255, 255;\\n  --ion-color-primary-shade: #0051a3;\\n  --ion-color-primary-tint: #1a6cc0;\\n  /** secondary **/\\n  --ion-color-secondary: #0cd1e8;\\n  --ion-color-secondary-rgb: 12, 209, 232;\\n  --ion-color-secondary-contrast: #ffffff;\\n  --ion-color-secondary-contrast-rgb: 255, 255, 255;\\n  --ion-color-secondary-shade: #0bb8cc;\\n  --ion-color-secondary-tint: #24d6ea;\\n  /** tertiary **/\\n  --ion-color-tertiary: #7044ff;\\n  --ion-color-tertiary-rgb: 112, 68, 255;\\n  --ion-color-tertiary-contrast: #ffffff;\\n  --ion-color-tertiary-contrast-rgb: 255, 255, 255;\\n  --ion-color-tertiary-shade: #633ce0;\\n  --ion-color-tertiary-tint: #7e57ff;\\n  /** success **/\\n  --ion-color-success: #10dc60;\\n  --ion-color-success-rgb: 16, 220, 96;\\n  --ion-color-success-contrast: #ffffff;\\n  --ion-color-success-contrast-rgb: 255, 255, 255;\\n  --ion-color-success-shade: #0ec254;\\n  --ion-color-success-tint: #28e070;\\n  /** warning **/\\n  --ion-color-warning: #ffce00;\\n  --ion-color-warning-rgb: 255, 206, 0;\\n  --ion-color-warning-contrast: #ffffff;\\n  --ion-color-warning-contrast-rgb: 255, 255, 255;\\n  --ion-color-warning-shade: #e0b500;\\n  --ion-color-warning-tint: #ffd31a;\\n  /** danger **/\\n  --ion-color-danger: #f04141;\\n  --ion-color-danger-rgb: 245, 61, 61;\\n  --ion-color-danger-contrast: #ffffff;\\n  --ion-color-danger-contrast-rgb: 255, 255, 255;\\n  --ion-color-danger-shade: #d33939;\\n  --ion-color-danger-tint: #f25454;\\n  /** dark **/\\n  --ion-color-dark: #222428;\\n  --ion-color-dark-rgb: 34, 34, 34;\\n  --ion-color-dark-contrast: #ffffff;\\n  --ion-color-dark-contrast-rgb: 255, 255, 255;\\n  --ion-color-dark-shade: #1e2023;\\n  --ion-color-dark-tint: #383a3e;\\n  /** medium **/\\n  --ion-color-medium: #989aa2;\\n  --ion-color-medium-rgb: 152, 154, 162;\\n  --ion-color-medium-contrast: #ffffff;\\n  --ion-color-medium-contrast-rgb: 255, 255, 255;\\n  --ion-color-medium-shade: #86888f;\\n  --ion-color-medium-tint: #a2a4ab;\\n  /** light **/\\n  --ion-color-light: #f4f5f8;\\n  --ion-color-light-rgb: 244, 244, 244;\\n  --ion-color-light-contrast: #000000;\\n  --ion-color-light-contrast-rgb: 0, 0, 0;\\n  --ion-color-light-shade: #d7d8da;\\n  --ion-color-light-tint: #f5f6f9; }\\n.secure-message {\\n  height: 100%;\\n  width: 100%;\\n  background-color: #fff; }\\n.secure-message__container {\\n    height: 100%; }\\n.secure-message__conversations {\\n    padding: 0;\\n    border-right-width: 1px;\\n    border-right-style: solid;\\n    border-right-color: rgba(0, 0, 0, 0.1); }\\n.secure-message__conversations .conversations-container__item {\\n      background-color: #fff; }\\n.secure-message__conversations .conversations-container__avatar-shadow {\\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.14), 0 3px 4px 0 rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0); }\\n.secure-message__conversations .conversations-container__groups {\\n      overflow: auto;\\n      height: 84%;\\n      background-color: #fff; }\\n.secure-message__conversations .conversations-container__avatar-icon {\\n      position: relative;\\n      top: 50%;\\n      left: 50%;\\n      -webkit-transform: translate(-50%, -50%);\\n              transform: translate(-50%, -50%);\\n      color: white;\\n      font-size: 1.4em; }\\n.secure-message__conversations .conversations-container__avatar-text {\\n      position: relative;\\n      top: 50%;\\n      left: 50%;\\n      -webkit-transform: translate(-20%, -50%);\\n              transform: translate(-20%, -50%);\\n      color: white;\\n      margin: 0; }\\n.secure-message__conversations .conversations-container__group--selected {\\n      background-color: rgba(0, 0, 0, 0.05); }\\n.secure-message__conversation {\\n    height: 100%;\\n    padding: 0 0 15px; }\\n.secure-message__conversation .conversation-container__avatar-text {\\n      position: relative;\\n      top: 50%;\\n      left: 50%;\\n      -webkit-transform: translate(-20%, -50%);\\n              transform: translate(-20%, -50%);\\n      color: white;\\n      margin: 0; }\\n.secure-message__conversation .conversation-container__chat {\\n      top: 56px;\\n      height: calc(100vh - 150px);\\n      overflow: auto; }\\n.secure-message__conversation .conversation-container__chat-avatar {\\n      width: 2.5em;\\n      height: 2.5em;\\n      margin-bottom: 37px;\\n      margin-left: 0; }\\n.secure-message__conversation .conversation-container__text-area-wraper {\\n      position: absolute;\\n      width: 100%;\\n      bottom: 1vh; }\\n.secure-message__conversation .conversation-container__text-area {\\n      background-color: rgba(0, 0, 0, 0.05);\\n      border-radius: 10px;\\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.14), 0 3px 4px 0 rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0);\\n      max-height: 4rem;\\n      --padding-top: 10px;\\n      --padding-bottom: 10px;\\n      --padding-start: 10px !important;\\n      --padding-end: 10px !important; }\\n.secure-message__conversation .conversation-container__text-area-btn {\\n      width: 3em;\\n      height: 3em;\\n      z-index: 2;\\n      position: relative; }\\n.secure-message__conversation .conversation-container__body-wrapper {\\n      padding: 0; }\\n.secure-message__conversation .conversation-container__text-bubble {\\n      border-radius: 10px;\\n      padding: 15px;\\n      margin: 0;\\n      display: inline-block;\\n      word-wrap: break-word;\\n      white-space: pre-wrap;\\n      max-width: 100%; }\\n.secure-message__conversation .conversation-container__date-wrapper {\\n      margin-bottom: 16px;\\n      margin-top: 5px; }\\n.secure-message__conversation .conversation-container__text-date {\\n      margin: 0;\\n      font-size: 0.9em;\\n      color: rgba(0, 0, 0, 0.5);\\n      opacity: 0.5; }\\n.secure-message__conversation-creation {\\n    height: 86%;\\n    padding: 0; }\\n.secure-message__conversation-creation .conversation-creation-container__groups {\\n      overflow: auto;\\n      height: 95%;\\n      margin-left: 5%;\\n      margin-bottom: 0; }\\n.secure-message__conversation-creation .conversation-creation-container__avatar-text {\\n      position: relative;\\n      top: 50%;\\n      left: 50%;\\n      -webkit-transform: translate(-20%, -50%);\\n              transform: translate(-20%, -50%);\\n      color: white;\\n      margin: 0; }\\n.light-grey-background {\\n  background-color: rgba(0, 0, 0, 0.05); }\\n.primary-background {\\n  background-color: var(--ion-color-primary); }\\n.light-blue-background {\\n  background-color: rgba(0, 92, 185, 0.1); }\\n.purple-background {\\n  background-color: #af5cf7; }\\n.item,\\n.list,\\n.item-content,\\n.item-complex {\\n  --ion-background-color: transparent !important; }\\n@-moz-document url-prefix() {\\n  .conversation-container__text-area {\\n    --padding-bottom: 0 !important; } }\\n.btn {\\n  --icon-font-size: 18px;\\n  --margin-start: 10px;\\n  --icon-padding-end: 5px;\\n  width: 70px;\\n  height: 20px;\\n  display: block;\\n  font-size: 16px;\\n  font-family: \\\"Nunito Regular\\\", arial, sans-serif; }\\n.btn-wrapper {\\n  width: 75px;\\n  height: 20px;\\n  display: block; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VjdGlvbnMvc2VjdXJlLW1lc3NhZ2luZy9DOlxcVXNlcnNcXGJzcFxcRG9jdW1lbnRzXFxHaXRSZXBvc1xcY2JvcmQtc3R1ZGVudC9zcmNcXHN0eWxlc1xcX3ZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9zZWN0aW9ucy9zZWN1cmUtbWVzc2FnaW5nL0M6XFxVc2Vyc1xcYnNwXFxEb2N1bWVudHNcXEdpdFJlcG9zXFxjYm9yZC1zdHVkZW50L3NyY1xcYXBwXFxzZWN0aW9uc1xcc2VjdXJlLW1lc3NhZ2luZ1xcc2VjdXJlLW1lc3NhZ2UucGFnZS5zY3NzIiwic3JjL2FwcC9zZWN0aW9ucy9zZWN1cmUtbWVzc2FnaW5nL0M6XFxVc2Vyc1xcYnNwXFxEb2N1bWVudHNcXEdpdFJlcG9zXFxjYm9yZC1zdHVkZW50L3NyY1xcc3R5bGVzXFxfY29tbW9uLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEJBQUE7QUFDQTtFQUNFLGNBQUE7RUFDQSw0QkFBb0I7RUFDcEIsbUNBQXdCO0VBQ3hCLHFDQUE2QjtFQUM3QiwrQ0FBaUM7RUFDakMsa0NBQTBCO0VBQzFCLGlDQUF5QjtFQUV6QixnQkFBQTtFQUNBLDhCQUFzQjtFQUN0Qix1Q0FBMEI7RUFDMUIsdUNBQStCO0VBQy9CLGlEQUFtQztFQUNuQyxvQ0FBNEI7RUFDNUIsbUNBQTJCO0VBRTNCLGVBQUE7RUFDQSw2QkFBcUI7RUFDckIsc0NBQXlCO0VBQ3pCLHNDQUE4QjtFQUM5QixnREFBa0M7RUFDbEMsbUNBQTJCO0VBQzNCLGtDQUEwQjtFQUUxQixjQUFBO0VBQ0EsNEJBQW9CO0VBQ3BCLG9DQUF3QjtFQUN4QixxQ0FBNkI7RUFDN0IsK0NBQWlDO0VBQ2pDLGtDQUEwQjtFQUMxQixpQ0FBeUI7RUFFekIsY0FBQTtFQUNBLDRCQUFvQjtFQUNwQixvQ0FBd0I7RUFDeEIscUNBQTZCO0VBQzdCLCtDQUFpQztFQUNqQyxrQ0FBMEI7RUFDMUIsaUNBQXlCO0VBRXpCLGFBQUE7RUFDQSwy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Q1osY0FBYztFQ2pNZCxlRG1NaUM7RUMvTGpDLGdERjBFdUQsRUFBQTtBQ3VIekQ7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGNBQWMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NlY3Rpb25zL3NlY3VyZS1tZXNzYWdpbmcvc2VjdXJlLW1lc3NhZ2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIElvbmljIENTUyBWYXJpYWJsZXMgKiovXHJcbjpyb290IHtcclxuICAvKiogcHJpbWFyeSAqKi9cclxuICAtLWlvbi1jb2xvci1wcmltYXJ5OiAjMDA1Y2I5O1xyXG4gIC0taW9uLWNvbG9yLXByaW1hcnktcmdiOiAwLCA5MiwgMTg1O1xyXG4gIC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1zaGFkZTogIzAwNTFhMztcclxuICAtLWlvbi1jb2xvci1wcmltYXJ5LXRpbnQ6ICMxYTZjYzA7XHJcblxyXG4gIC8qKiBzZWNvbmRhcnkgKiovXHJcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5OiAjMGNkMWU4O1xyXG4gIC0taW9uLWNvbG9yLXNlY29uZGFyeS1yZ2I6IDEyLCAyMDksIDIzMjtcclxuICAtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1zZWNvbmRhcnktc2hhZGU6ICMwYmI4Y2M7XHJcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LXRpbnQ6ICMyNGQ2ZWE7XHJcblxyXG4gIC8qKiB0ZXJ0aWFyeSAqKi9cclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeTogIzcwNDRmZjtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS1yZ2I6IDExMiwgNjgsIDI1NTtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeS1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItdGVydGlhcnktc2hhZGU6ICM2MzNjZTA7XHJcbiAgLS1pb24tY29sb3ItdGVydGlhcnktdGludDogIzdlNTdmZjtcclxuXHJcbiAgLyoqIHN1Y2Nlc3MgKiovXHJcbiAgLS1pb24tY29sb3Itc3VjY2VzczogIzEwZGM2MDtcclxuICAtLWlvbi1jb2xvci1zdWNjZXNzLXJnYjogMTYsIDIyMCwgOTY7XHJcbiAgLS1pb24tY29sb3Itc3VjY2Vzcy1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci1zdWNjZXNzLWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci1zdWNjZXNzLXNoYWRlOiAjMGVjMjU0O1xyXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3MtdGludDogIzI4ZTA3MDtcclxuXHJcbiAgLyoqIHdhcm5pbmcgKiovXHJcbiAgLS1pb24tY29sb3Itd2FybmluZzogI2ZmY2UwMDtcclxuICAtLWlvbi1jb2xvci13YXJuaW5nLXJnYjogMjU1LCAyMDYsIDA7XHJcbiAgLS1pb24tY29sb3Itd2FybmluZy1jb250cmFzdDogI2ZmZmZmZjtcclxuICAtLWlvbi1jb2xvci13YXJuaW5nLWNvbnRyYXN0LXJnYjogMjU1LCAyNTUsIDI1NTtcclxuICAtLWlvbi1jb2xvci13YXJuaW5nLXNoYWRlOiAjZTBiNTAwO1xyXG4gIC0taW9uLWNvbG9yLXdhcm5pbmctdGludDogI2ZmZDMxYTtcclxuXHJcbiAgLyoqIGRhbmdlciAqKi9cclxuICAtLWlvbi1jb2xvci1kYW5nZXI6ICNmMDQxNDE7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLXJnYjogMjQ1LCA2MSwgNjE7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gIC0taW9uLWNvbG9yLWRhbmdlci1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItZGFuZ2VyLXNoYWRlOiAjZDMzOTM5O1xyXG4gIC0taW9uLWNvbG9yLWRhbmdlci10aW50OiAjZjI1NDU0O1xyXG5cclxuICAvKiogZGFyayAqKi9cclxuICAtLWlvbi1jb2xvci1kYXJrOiAjMjIyNDI4O1xyXG4gIC0taW9uLWNvbG9yLWRhcmstcmdiOiAzNCwgMzQsIDM0O1xyXG4gIC0taW9uLWNvbG9yLWRhcmstY29udHJhc3Q6ICNmZmZmZmY7XHJcbiAgLS1pb24tY29sb3ItZGFyay1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItZGFyay1zaGFkZTogIzFlMjAyMztcclxuICAtLWlvbi1jb2xvci1kYXJrLXRpbnQ6ICMzODNhM2U7XHJcblxyXG4gIC8qKiBtZWRpdW0gKiovXHJcbiAgLS1pb24tY29sb3ItbWVkaXVtOiAjOTg5YWEyO1xyXG4gIC0taW9uLWNvbG9yLW1lZGl1bS1yZ2I6IDE1MiwgMTU0LCAxNjI7XHJcbiAgLS1pb24tY29sb3ItbWVkaXVtLWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gIC0taW9uLWNvbG9yLW1lZGl1bS1jb250cmFzdC1yZ2I6IDI1NSwgMjU1LCAyNTU7XHJcbiAgLS1pb24tY29sb3ItbWVkaXVtLXNoYWRlOiAjODY4ODhmO1xyXG4gIC0taW9uLWNvbG9yLW1lZGl1bS10aW50OiAjYTJhNGFiO1xyXG5cclxuICAvKiogbGlnaHQgKiovXHJcbiAgLS1pb24tY29sb3ItbGlnaHQ6ICNmNGY1Zjg7XHJcbiAgLS1pb24tY29sb3ItbGlnaHQtcmdiOiAyNDQsIDI0NCwgMjQ0O1xyXG4gIC0taW9uLWNvbG9yLWxpZ2h0LWNvbnRyYXN0OiAjMDAwMDAwO1xyXG4gIC0taW9uLWNvbG9yLWxpZ2h0LWNvbnRyYXN0LXJnYjogMCwgMCwgMDtcclxuICAtLWlvbi1jb2xvci1saWdodC1zaGFkZTogI2Q3ZDhkYTtcclxuICAtLWlvbi1jb2xvci1saWdodC10aW50OiAjZjVmNmY5O1xyXG5cclxuICAvLyAtLWlvbi1ncmlkLXdpZHRoLXNtOiAwcHg7XHJcbn1cclxuXHJcbi8vIEZPTlRTXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuJGZvbnQtbnVuaXRvLXJlZ3VsYXI6ICdOdW5pdG8gUmVndWxhcicsIGFyaWFsLCBzYW5zLXNlcmlmO1xyXG4kZm9udC1udW5pdG8tc2VtaWJvbGQ6ICdOdW5pdG8gU2VtaUJvbGQnLCBhcmlhbCwgc2Fucy1zZXJpZjtcclxuJGZvbnQtbnVuaXRvLWhlYXZ5OiAnTnVuaXRvIEJvbGQnLCBhcmlhbCwgc2Fucy1zZXJpZjtcclxuXHJcbi8vIENPTE9SU1xyXG5cclxuJGNvbG9yLXZlcnktbGlnaHQtZ3JheTogI2NjYztcclxuJGNvbG9yLWxpbmstd2F0ZXI6ICNkNGQ2ZDg7XHJcbiRjb2xvci13aGlzcGVyOiAjZTllOWU5O1xyXG4kY29sb3ItZGFyay1ncmF5OiAjYWFhO1xyXG4kY29sb3ItZHVzdHktZ3JheTogIzk3OTc5NztcclxuJGNvbG9yLWRpbS1ncmF5OiAjNmU2ZTZlO1xyXG4kY29sb3Itc29saXR1ZGU6ICNFQ0YxRjg7XHJcbiRjb2xvci1uaWdodC1yaWRlcjogIzMzMztcclxuJGNvbG9yLW5hdnktYmx1ZTogIzAwNTZlNjtcclxuJGNvbG9yLWRlbmltOiAjMTM2MGUwO1xyXG4kY29sb3ItZG9kZ2VyLWJsdWU6ICMxNjZkZmY7XHJcbiRjb2xvci1kb2RnZXItYmx1ZS1saWdodGVyOiAjMmQ3Y2ZmO1xyXG4kY29sb3Itd2hpdGU6ICNmZmY7XHJcbiRjb2xvci1ibGFjazogIzAwMDtcclxuJGNvbG9yLXdoaXRlLXNtb2tlOiAjZjNmM2YzO1xyXG4kY29sb3ItZGVlcC1za3ktYmx1ZTogIzAwYTBmZjtcclxuJGNvbG9yLWxpZ2h0LXNreS1ibHVlOiAjOGJiN2ZmO1xyXG4kY29sb3ItbGlnaHQtc2t5LWJsdWU6ICM4OGM4ZmY7XHJcbiRjb2xvci1zdHJvbmctYmx1ZTogIzAwNDNiMztcclxuJGNvbG9yLWFsaWNlLWJsdWU6ICNmMGYzZjU7XHJcbiRjb2xvci1zaWx2ZXI6ICNjNGM0YzQ7XHJcbiRjb2xvci1tYXR0ZXJob3JuOiAjNTE1MTUxO1xyXG4kY29sb3ItdmVyeS1kYXJrLWdyYXk6ICM2MjYyNjI7XHJcbiRjb2xvci1tZXJjdXJ5OiAjZTdlN2U3O1xyXG4kY29sb3ItbGlnaHQtZ3JheTogI2Q4ZDhkODtcclxuJGNvbG9yLXdoaXNwZXI6ICNlYmViZWI7XHJcbiRjb2xvci1hbGl6YXJpbjogI2UyMjk0MjtcclxuJGNvbG9yLWZsYW1lLXJlZDogIzg4MTkyODtcclxuJGNvbG9yLWNoYXJjb2FsOiAjNDY0NjQ2O1xyXG4kY29sb3ItZGVlcC1zZWE6ICMxNDdkNjM7XHJcbiRjb2xvci1jYXJkaW5hbDogI2I1MjEzNTtcclxuJGNvbG9yLWdvZC1ncmF5OiAjMTYxNjE2O1xyXG4kY29sb3ItaG90LWN1cnJ5OiAjN2M1ZDIzO1xyXG4kY29sb3ItY2FzYWJsYW5jYTogI2Y3YmE0NTtcclxuJGNvbG9yLWFsYWJhc3RlcjogI2Y3ZjdmNztcclxuJHBvcmNlbGFpbjogI2U2ZTllYjtcclxuJGNvbG9yLWhhcmxleS1kYXZpZHNvbi1vcmFuZ2U6ICNEMDQzMUE7XHJcbiRjb2xvci1wYXR0ZW5zLWJsdWU6ICNlMGUzZTU7XHJcblxyXG4vLy8gU2l6ZVxyXG4kYm90dG9tLW5hdmlnYXRpb24tYmFyLWhlaWdodDogNTBweDtcclxuIiwiQGltcG9ydCBcInRvb2xzXCI7XHJcblxyXG4uc2VjdXJlLW1lc3NhZ2Uge1xyXG4gIGhlaWdodDogMTAwJTtcclxuICB3aWR0aDogMTAwJTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG5cclxuICAmX19jb250YWluZXIge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gIH1cclxuXHJcbiAgJl9fY29udmVyc2F0aW9ucyB7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgYm9yZGVyLXJpZ2h0LXdpZHRoOiAxcHg7XHJcbiAgICBib3JkZXItcmlnaHQtc3R5bGU6IHNvbGlkO1xyXG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcblxyXG4gICAgLmNvbnZlcnNhdGlvbnMtY29udGFpbmVyIHtcclxuICAgICAgJl9faXRlbSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJl9fYXZhdGFyLXNoYWRvdyB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAzcHggNHB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJl9fZ3JvdXBzIHtcclxuICAgICAgICBvdmVyZmxvdzogYXV0bztcclxuICAgICAgICBoZWlnaHQ6IDg0JTtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmX19hdmF0YXItaWNvbiB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgZm9udC1zaXplOiAxLjRlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJl9fYXZhdGFyLXRleHQge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTIwJSwgLTUwJSk7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJl9fZ3JvdXAtLXNlbGVjdGVkIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmX19jb252ZXJzYXRpb24ge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgcGFkZGluZzogMCAwIDE1cHg7XHJcblxyXG4gICAgLmNvbnZlcnNhdGlvbi1jb250YWluZXIge1xyXG4gICAgICAmX19hdmF0YXItdGV4dCB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMjAlLCAtNTAlKTtcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmX19jaGF0IHtcclxuICAgICAgICB0b3A6IDU2cHg7XHJcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTUwcHgpO1xyXG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmX19jaGF0LWF2YXRhciB7XHJcbiAgICAgICAgd2lkdGg6IDIuNWVtO1xyXG4gICAgICAgIGhlaWdodDogMi41ZW07XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMzdweDtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJl9fdGV4dC1hcmVhLXdyYXBlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGJvdHRvbTogMXZoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmX190ZXh0LWFyZWEge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDNweCA0cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDRyZW07XHJcblxyXG4gICAgICAgIC0tcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgICAgICAgLS1wYWRkaW5nLWJvdHRvbTogMTBweDtcclxuICAgICAgICAtLXBhZGRpbmctc3RhcnQ6IDEwcHggIWltcG9ydGFudDtcclxuICAgICAgICAtLXBhZGRpbmctZW5kOiAxMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICZfX3RleHQtYXJlYS1idG4ge1xyXG4gICAgICAgIHdpZHRoOiAzZW07XHJcbiAgICAgICAgaGVpZ2h0OiAzZW07XHJcbiAgICAgICAgei1pbmRleDogMjtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICZfX2JvZHktd3JhcHBlciB7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJl9fdGV4dC1idWJibGUge1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgcGFkZGluZzogMTVweDtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmX19kYXRlLXdyYXBwZXIge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmX190ZXh0LWRhdGUge1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xyXG4gICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICAgICAgb3BhY2l0eTogMC41O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmX19jb252ZXJzYXRpb24tY3JlYXRpb24ge1xyXG4gICAgaGVpZ2h0OiA4NiU7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG5cclxuICAgIC5jb252ZXJzYXRpb24tY3JlYXRpb24tY29udGFpbmVyIHtcclxuICAgICAgJl9fZ3JvdXBzIHtcclxuICAgICAgICBvdmVyZmxvdzogYXV0bztcclxuICAgICAgICBoZWlnaHQ6IDk1JTtcclxuICAgICAgICBtYXJnaW4tbGVmdDogNSU7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJl9fYXZhdGFyLXRleHQge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTIwJSwgLTUwJSk7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLmxpZ2h0LWdyZXktYmFja2dyb3VuZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjA1KTtcclxufVxyXG5cclxuLnByaW1hcnktYmFja2dyb3VuZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG59XHJcblxyXG4ubGlnaHQtYmx1ZS1iYWNrZ3JvdW5kIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDkyLCAxODUsIDAuMSk7XHJcbn1cclxuXHJcbi5wdXJwbGUtYmFja2dyb3VuZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FmNWNmNztcclxufVxyXG5cclxuLml0ZW0sXHJcbi5saXN0LFxyXG4uaXRlbS1jb250ZW50LFxyXG4uaXRlbS1jb21wbGV4IHtcclxuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5ALW1vei1kb2N1bWVudCB1cmwtcHJlZml4KCkge1xyXG4gIC5jb252ZXJzYXRpb24tY29udGFpbmVyX190ZXh0LWFyZWEge1xyXG4gICAgLS1wYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG4uYnRuIHtcclxuICAtLWljb24tZm9udC1zaXplOiAxOHB4O1xyXG4gIC0tbWFyZ2luLXN0YXJ0OiAxMHB4O1xyXG4gIC0taWNvbi1wYWRkaW5nLWVuZDogNXB4O1xyXG4gIHdpZHRoOiA3MHB4O1xyXG4gIGhlaWdodDogMjBweDtcclxuICBkaXNwbGF5OiBibG9jaztcclxuXHJcbiAgQGluY2x1ZGUgZm9udC1udW5pdG8tcmVndWxhcigxNnB4KTtcclxufVxyXG4uYnRuLXdyYXBwZXIge1xyXG4gIHdpZHRoOiA3NXB4O1xyXG4gIGhlaWdodDogMjBweDtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG4iLCJAbWl4aW4gZm9udC1zaXplKCRmb250LXNpemUpIHtcclxuICBmb250LXNpemU6ICRmb250LXNpemU7XHJcbn1cclxuXHJcbkBtaXhpbiBmb250LWZhbWlseSgkZm9udC1mYW1pbHkpIHtcclxuICBmb250LWZhbWlseTogJGZvbnQtZmFtaWx5O1xyXG59XHJcblxyXG5AbWl4aW4gZm9udC1udW5pdG8tcmVndWxhcigkZm9udC1zaXplKSB7XHJcbiAgQGluY2x1ZGUgZm9udC1zaXplKCRmb250LXNpemUpO1xyXG4gIEBpbmNsdWRlIGZvbnQtZmFtaWx5KCRmb250LW51bml0by1yZWd1bGFyKTtcclxufVxyXG5cclxuQG1peGluIGZvbnQtbnVuaXRvLXNlbWlib2xkKCRmb250LXNpemUpIHtcclxuICBAaW5jbHVkZSBmb250LXNpemUoJGZvbnQtc2l6ZSk7XHJcbiAgQGluY2x1ZGUgZm9udC1mYW1pbHkoJGZvbnQtbnVuaXRvLXNlbWlib2xkKTtcclxufVxyXG5cclxuQG1peGluIGZvbnQtbnVuaXRvLWhlYXZ5KCRmb250LXNpemUpIHtcclxuICBAaW5jbHVkZSBmb250LXNpemUoJGZvbnQtc2l6ZSk7XHJcbiAgQGluY2x1ZGUgZm9udC1mYW1pbHkoJGZvbnQtbnVuaXRvLWhlYXZ5KTtcclxufVxyXG5cclxuQG1peGluIGxpbmstY29sb3IoJGNvbG9yKSB7XHJcbiAgY29sb3I6ICRjb2xvcjtcclxuXHJcbiAgJjpsaW5rLFxyXG4gICY6dmlzaXRlZCxcclxuICAmOmZvY3VzLFxyXG4gICY6aG92ZXIsXHJcbiAgJjphY3RpdmUge1xyXG4gICAgY29sb3I6ICRjb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBob3ZlciB7XHJcbiAgJjpob3ZlcixcclxuICAmOmZvY3VzIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGRpc2FibGVkIHtcclxuICAmLmRpc2FibGVkLFxyXG4gICYuZGlzYWJsZWQ6Zm9jdXMsXHJcbiAgJi5kaXNhYmxlZDpob3ZlcixcclxuICAmW2Rpc2FibGVkXSxcclxuICAmW2Rpc2FibGVkXTpmb2N1cyxcclxuICAmW2Rpc2FibGVkXTpob3ZlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBlbGxpcHNpcyB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG59XHJcblxyXG5AbWl4aW4gZmxvYXRpbmctbGFiZWwoJGNvbG9yKSB7XHJcbiAgZm9udC1zaXplOiA3NSU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxNSUsIC01MCUsIDApO1xyXG4gIG9wYWNpdHk6IDE7XHJcbiAgYmFja2dyb3VuZDogJGNvbG9yLXdoaXRlO1xyXG4gIHBhZGRpbmc6IDAgM3B4O1xyXG4gIG1hcmdpbjogMDtcclxuICBjb2xvcjogJGNvbG9yO1xyXG59XHJcblxyXG5AbWl4aW4gY2hldnJvbi1kb3duKCkge1xyXG4gICY6OmJlZm9yZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3Itd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaWNvbi9jaGV2cm9uLWRvd24uc3ZnJyk7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgcmlnaHQ6IDE1cHg7XHJcbiAgICB3aWR0aDogMTRweDtcclxuICAgIGhlaWdodDogOXB4O1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICB6LWluZGV4OiAxO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGNoZXZyb24tZG93bi1hY3RpdmUoKSB7XHJcbiAgJjo6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pY29uL2NoZXZyb24tZG93bi1hY3RpdmUuc3ZnJyk7XHJcbiAgICByaWdodDogMTRweDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBjaGV2cm9uLWRvd24tZXJyb3IoKSB7XHJcbiAgJjo6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pY29uL2NoZXZyb24tZG93bi1lcnJvci5zdmcnKTtcclxuICAgIHJpZ2h0OiAxNHB4O1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Events, Platform, PopoverController } from '@ionic/angular';\r\nimport { fromEvent, Subscription } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { SecureMessagingService } from './service';\r\nimport { DataCache } from '../../core/utils/data-cache';\r\nimport { LoadingService } from '../../core/service/loading/loading.service';\r\nimport { BUTTON_TYPE } from '../../core/utils/buttons.config';\r\nimport { SecureMessagePopoverComponent } from './secure-message-popover';\r\nimport * as Globals from '../../app.global';\r\nimport { SecureMessageConversation, SecureMessageGroupInfo, SecureMessageInfo, SecureMessageSendBody } from './models';\r\nimport { NativeProvider } from '@core/provider/native-provider/native.provider';\r\nimport { GlobalNavService } from '@shared/ui-components/st-global-navigation/services/global-nav.service';\r\n\r\n@Component({\r\n  selector: 'st-secure-message',\r\n  templateUrl: './secure-message.page.html',\r\n  styleUrls: ['./secure-message.page.scss'],\r\n})\r\nexport class SecureMessagePage implements OnDestroy, OnInit {\r\n  @ViewChild('chatScroll') chatScroll: any;\r\n  @ViewChild('chatInput') chatInput: any;\r\n\r\n  private readonly largeScreenPixelMin = 576;\r\n  private readonly sourceSubscription: Subscription = new Subscription();\r\n  private messagesArray: SecureMessageInfo[] = [];\r\n\r\n  private bIsLargeScreen: boolean = false;\r\n  private bCreateNewConversation: boolean = false;\r\n  private conversationsArray: SecureMessageConversation[] = [];\r\n  private groupsArray: SecureMessageGroupInfo[] = [];\r\n  private selectedConversation: SecureMessageConversation = null;\r\n  private newMessageText: string = '';\r\n\r\n  constructor(\r\n    private readonly platform: Platform,\r\n    private readonly events: Events,\r\n    private readonly secureMessagingService: SecureMessagingService,\r\n    private readonly loading: LoadingService,\r\n    private readonly popoverCtrl: PopoverController,\r\n    private readonly nativeProvider: NativeProvider,\r\n    private readonly globalNav: GlobalNavService\r\n  ) {\r\n    this.platform.ready().then(this.initComponent.bind(this));\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sourceSubscription.unsubscribe();\r\n  }\r\n\r\n  /**\r\n   * Show grid column with current conversations\r\n   */\r\n  get isConversationsColumnAppear(): boolean {\r\n    return this.bIsLargeScreen === true || (this.selectedConversation == null && !this.bCreateNewConversation);\r\n  }\r\n\r\n  private initComponent() {\r\n    /// set subscription to check screen size onAddressChanged\r\n    /// used to adjust ui layout\r\n    this.bIsLargeScreen = this.platform.width() > this.largeScreenPixelMin;\r\n    const subscription = fromEvent(window, 'resize').subscribe(this.onWindowResizeHandler.bind(this));\r\n    this.sourceSubscription.add(subscription);\r\n    this.initializePage();\r\n  }\r\n\r\n  private onWindowResizeHandler() {\r\n    // const bWasPreviouslyLargeScreen = this.bIsLargeScreen;\r\n    this.bIsLargeScreen = window.innerWidth >= this.largeScreenPixelMin;\r\n    // if (!bWasPreviouslyLargeScreen && this.bIsLargeScreen) {\r\n    //   /// do nothing for now\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * Initial data gathering for messages and groups\r\n   */\r\n  private initializePage() {\r\n    this.loading.showSpinner('Retrieving conversations...');\r\n    const subscription = this.secureMessagingService\r\n      .getInitialData()\r\n      .pipe(finalize(() => this.loading.closeSpinner()))\r\n      .subscribe(\r\n        ([smGroupArray, smMessageArray]) => {\r\n          this.groupsArray = smGroupArray;\r\n          this.messagesArray = smMessageArray;\r\n          this.createConversationsFromResponse(false);\r\n          this.pollForData();\r\n        },\r\n        error => {\r\n          this.modalHandler({ ...error, title: Globals.Exception.Strings.TITLE }, this.initializePage.bind(this));\r\n        }\r\n      );\r\n\r\n    this.sourceSubscription.add(subscription);\r\n  }\r\n\r\n  /**\r\n   * Poll for updated messages and groups\r\n   */\r\n  private pollForData() {\r\n    const subscription = this.secureMessagingService.pollForData().subscribe(\r\n      ([smGroupArray, smMessageArray]) => {\r\n        /// if there are new groups, update the list\r\n        if (this.messagesArray.length !== smGroupArray.length) {\r\n          this.messagesArray = smMessageArray;\r\n        }\r\n        /// if there are new messages, update the conversations\r\n        if (this.messagesArray.length !== smMessageArray.length) {\r\n          this.messagesArray = smMessageArray;\r\n          this.createConversationsFromResponse(true);\r\n        }\r\n      },\r\n      error => {\r\n        /// only deal with connection error ?\r\n      }\r\n    );\r\n\r\n    this.sourceSubscription.add(subscription);\r\n  }\r\n\r\n  private sortGroups() {\r\n    /// sort groups alphabetically\r\n    this.groupsArray.sort((a, b) => {\r\n      if (a.name === null) {\r\n        return -1;\r\n      }\r\n      if (b.name === null) {\r\n        return 1;\r\n      }\r\n      if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n        return -1;\r\n      }\r\n      if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle messages and groups response and make conversations to display\r\n   * @param bIsPollingData Is this update from polled data\r\n   */\r\n  private createConversationsFromResponse(bIsPollingData: boolean) {\r\n    const tempConversations: SecureMessageConversation[] = [];\r\n\r\n    this.sortGroups();\r\n\r\n    /// create 'conversations' out of message array\r\n    for (const message of this.messagesArray) {\r\n      message.sent_date = new Date(message.sent_date).toDateString();\r\n\r\n      let bNewConversation = true;\r\n\r\n      /// add to existing conversation if it exists\r\n      for (const convo of tempConversations) {\r\n        if (!bNewConversation) {\r\n          break;\r\n        }\r\n\r\n        if (\r\n          convo.groupIdValue &&\r\n          convo.groupIdValue.length &&\r\n          (convo.groupIdValue === message.sender.id_value || convo.groupIdValue === message.recipient.id_value)\r\n        ) {\r\n          convo.messages.push(message);\r\n          bNewConversation = false;\r\n        }\r\n      }\r\n\r\n      /// create new conversation\r\n      if (bNewConversation) {\r\n        let newGroupName = '';\r\n        let newGroupId = '';\r\n        let newGroupDescription = '';\r\n\r\n        if (message.sender.type === 'group') {\r\n          newGroupName = message.sender.name;\r\n          newGroupId = message.sender.id_value;\r\n        } else {\r\n          newGroupName = message.recipient.name;\r\n          newGroupId = message.recipient.id_value;\r\n        }\r\n\r\n        newGroupDescription = message.description;\r\n\r\n        /// try to get proper group info\r\n        for (const group of this.groupsArray) {\r\n          if (group.id === newGroupId) {\r\n            newGroupName = group.name;\r\n            newGroupDescription = group.description;\r\n          }\r\n        }\r\n\r\n        const conversation: SecureMessageConversation = {\r\n          institutionId: SecureMessagingService.GetSecureMessagesAuthInfo().institution_id,\r\n          groupName: newGroupName,\r\n          groupIdValue: newGroupId,\r\n          groupDescription: newGroupDescription,\r\n          myIdValue: SecureMessagingService.GetSecureMessagesAuthInfo().id_value,\r\n          messages: [],\r\n          selected: false,\r\n        };\r\n\r\n        conversation.messages.push(message);\r\n        tempConversations.push(conversation);\r\n      }\r\n    }\r\n\r\n    this.conversationsArray = tempConversations;\r\n\r\n    this.sortConversations();\r\n\r\n    if (bIsPollingData === false && (this.conversationsArray.length && this.bIsLargeScreen)) {\r\n      /// select first conversation by default\r\n      this.conversationsArray[0].selected = true;\r\n      this.selectedConversation = this.conversationsArray[0];\r\n    }\r\n  }\r\n\r\n  trackConversationsByFn(index: number, { groupIdValue }: SecureMessageConversation): string {\r\n    return groupIdValue;\r\n  }\r\n\r\n  trackMessagesByFn(index: number, { id }: SecureMessageInfo): string {\r\n    return id;\r\n  }\r\n\r\n  /**\r\n   * Helper method to scroll to bottom of chat\r\n   */\r\n  private scrollToBottom() {\r\n    setTimeout(() => {\r\n      if (this.chatScroll == null) {\r\n        return;\r\n      }\r\n      try {\r\n        const scroll = this.chatScroll._scrollContent.nativeElement;\r\n        scroll.scrollTop = scroll.scrollHeight - scroll.clientHeight;\r\n      } catch (error) {\r\n        /// do nothing\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  /**\r\n   * Show grid column with messages from current selected conversation\r\n   */\r\n  showSelectedConversationContentColumn(): boolean {\r\n    return this.selectedConversation !== null && !this.bCreateNewConversation;\r\n  }\r\n\r\n  /**\r\n   * Show grid column with groups available to start a conversation\r\n   */\r\n  showCreateNewConversationColumn(): boolean {\r\n    return this.bCreateNewConversation;\r\n  }\r\n\r\n  showToolbar(){\r\n    return !this.nativeProvider.isWeb() && !this.showSelectedConversationContentColumn() && !this.showCreateNewConversationColumn();\r\n  }\r\n\r\n  /**\r\n   * click listner for Start Conversation\r\n   */\r\n  onClickStartConversation() {\r\n    this.bCreateNewConversation = true;\r\n  }\r\n\r\n  /**\r\n   * click listner for group in 'new conversation' column\r\n   */\r\n  onClickMakeNewConversation({ id, name, description }: SecureMessageGroupInfo) {\r\n    /// check if a conversation with this group already exists\r\n    let newConversation: SecureMessageConversation = null;\r\n    for (const convo of this.conversationsArray) {\r\n      if (convo.groupIdValue === id) {\r\n        newConversation = convo;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (newConversation === null) {\r\n      newConversation = {\r\n        institutionId: SecureMessagingService.GetSecureMessagesAuthInfo().institution_id,\r\n        groupName: name,\r\n        groupIdValue: id,\r\n        groupDescription: description,\r\n        myIdValue: SecureMessagingService.GetSecureMessagesAuthInfo().id_value,\r\n        messages: [],\r\n        selected: true,\r\n      };\r\n    }\r\n\r\n    this.setSelectedConversation(newConversation);\r\n    this.bCreateNewConversation = false;\r\n  }\r\n\r\n  /**\r\n   * click listener to selected current conversation to display\r\n   */\r\n  onClickConversation(conversation: SecureMessageConversation) {\r\n    this.bCreateNewConversation = false;\r\n    if (this.selectedConversation != null && this.selectedConversation.groupIdValue === conversation.groupIdValue) {\r\n      return;\r\n    }\r\n    this.setSelectedConversation(conversation);\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  /**\r\n   * click listener to send message\r\n   */\r\n  onClickSendButton() {\r\n    if (this.newMessageText && this.newMessageText.trim().length) {\r\n      this.sendMessage(this.createNewMessageSendBody(this.newMessageText));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * click listener for backing out of conversation (small UI only)\r\n   */\r\n  onClickBackConversation() {\r\n    this.clearSelectedConversation();\r\n  }\r\n\r\n  /**\r\n   * click listener for backing out of create conversation (small UI only)\r\n   */\r\n  onClickBackNewConversation() {\r\n    this.bCreateNewConversation = false;\r\n  }\r\n\r\n  /**\r\n   * Create message body object for sending a new message to a group\r\n   * @param messageBody body of new message\r\n   */\r\n  private createNewMessageSendBody(messageBody: string): SecureMessageSendBody {\r\n    return {\r\n      institution_id: SecureMessagingService.GetSecureMessagesAuthInfo().institution_id,\r\n      sender: {\r\n        type: 'patron',\r\n        id_field: SecureMessagingService.GetSecureMessagesAuthInfo().id_field,\r\n        id_value: SecureMessagingService.GetSecureMessagesAuthInfo().id_value,\r\n        name: DataCache.getUserInfo().firstName + ' ' + DataCache.getUserInfo().lastName,\r\n      },\r\n      recipient: {\r\n        type: 'group',\r\n        id_value: this.selectedConversation.groupIdValue,\r\n        name: this.selectedConversation.groupName,\r\n      },\r\n      description: '',\r\n      body: messageBody,\r\n      importance: null,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Send message body to group\r\n   * @param message message body object to send for new message\r\n   */\r\n  private sendMessage(message: SecureMessageSendBody) {\r\n    this.newMessageText = null;\r\n\r\n    const subscription = this.secureMessagingService.sendSecureMessage(message).subscribe(\r\n      () => this.addMessageToLocalConversation(message),\r\n      () => {\r\n        const error = { message: 'Unable to verify your user information', title: Globals.Exception.Strings.TITLE };\r\n        this.modalHandler(error, this.sendMessage.bind(this, message));\r\n      }\r\n    );\r\n\r\n    this.sourceSubscription.add(subscription);\r\n  }\r\n\r\n  /**\r\n   * Add sent message to local conversation\r\n   */\r\n  private addMessageToLocalConversation({ body }: SecureMessageSendBody) {\r\n    const message: SecureMessageInfo = {\r\n      body,\r\n      created_date: new Date().toLocaleString(),\r\n      description: '',\r\n      id: null,\r\n      importance: null,\r\n      institution_id: SecureMessagingService.GetSecureMessagesAuthInfo().institution_id,\r\n      read_date: null,\r\n      recipient: {\r\n        created_date: new Date().toISOString(),\r\n        id: '',\r\n        type: 'group',\r\n        id_field: null,\r\n        id_value: this.selectedConversation.groupIdValue,\r\n        name: this.selectedConversation.groupName,\r\n        aux_user_id: null,\r\n        version: 1,\r\n      },\r\n      replied_message_id: 'None',\r\n      requires_read_receipt: null,\r\n      sender: {\r\n        created_date: new Date().toISOString(),\r\n        id: '',\r\n        type: 'patron',\r\n        id_field: SecureMessagingService.GetSecureMessagesAuthInfo().id_field,\r\n        id_value: SecureMessagingService.GetSecureMessagesAuthInfo().id_value,\r\n        name: DataCache.getUserInfo().firstName + ' ' + DataCache.getUserInfo().lastName,\r\n        aux_user_id: null,\r\n        version: 1,\r\n      },\r\n      sent_date: new Date().toLocaleString(),\r\n      state: null,\r\n      ttl: null,\r\n      version: 1,\r\n    };\r\n\r\n    this.newMessageText = null;\r\n    this.selectedConversation.messages.push(message);\r\n    if (this.conversationsArray.indexOf(this.selectedConversation) < 0) {\r\n      this.conversationsArray.push(this.selectedConversation);\r\n    }\r\n    this.sortConversations();\r\n  }\r\n\r\n  /**\r\n   * Sort conversations for display\r\n   */\r\n  private sortConversations() {\r\n    /// sort conversations by most current\r\n    this.conversationsArray.sort((a, b) => {\r\n      if (a.messages === null) {\r\n        return 1;\r\n      }\r\n      if (b.messages === null) {\r\n        return -1;\r\n      }\r\n      if (a.messages.length === 0) {\r\n        return 1;\r\n      }\r\n      if (b.messages.length === 0) {\r\n        return -1;\r\n      }\r\n\r\n      if (\r\n        new Date(a.messages[a.messages.length - 1].sent_date).getTime() <\r\n        new Date(b.messages[b.messages.length - 1].sent_date).getTime()\r\n      ) {\r\n        return 1;\r\n      }\r\n\r\n      if (\r\n        new Date(a.messages[a.messages.length - 1].sent_date).getTime() >\r\n        new Date(b.messages[b.messages.length - 1].sent_date).getTime()\r\n      ) {\r\n        return -1;\r\n      }\r\n\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Heler method to set selected conversation\r\n   * @param conversation conversation to set as selected\r\n   */\r\n  private setSelectedConversation(conversation: SecureMessageConversation) {\r\n    this.selectedConversation = conversation;\r\n    for (const convo of this.conversationsArray) {\r\n      convo.selected = false;\r\n    }\r\n    this.selectedConversation.selected = true;\r\n  }\r\n\r\n  /**\r\n   * Helper method to clear selected conversation\r\n   */\r\n  private clearSelectedConversation() {\r\n    if (this.selectedConversation.messages === null || this.selectedConversation.messages.length === 0) {\r\n      for (const convo of this.conversationsArray) {\r\n        if (convo.groupIdValue === this.selectedConversation.groupIdValue) {\r\n          this.conversationsArray.splice(this.conversationsArray.indexOf(convo), 1);\r\n        }\r\n      }\r\n    }\r\n    this.selectedConversation = null;\r\n    for (const convo of this.conversationsArray) {\r\n      convo.selected = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * UI helper method to set group initial\r\n   * @param conversation conversation to get data for ui\r\n   */\r\n  getConversationGroupInitial({ groupName }: SecureMessageConversation): string {\r\n    return groupName == null || groupName.length < 1 ? 'U' : groupName[0];\r\n  }\r\n\r\n  /**\r\n   * UI helper method to set group name\r\n   * @param conversation conversation to get data for ui\r\n   */\r\n  getConversationGroupName({ groupName }: SecureMessageConversation): string {\r\n    return groupName == null ? 'Conversation' : groupName;\r\n  }\r\n\r\n  /**\r\n   * UI helper method to set description text for conversation\r\n   * (this gets the most recently sent message)\r\n   * @param conversation conversation to get data for ui\r\n   */\r\n  getConversationDescription({ messages }: SecureMessageConversation): string {\r\n    const lastIMessage: SecureMessageInfo = messages[messages.length - 1];\r\n    const frontText: string = lastIMessage.sender.type === 'patron' ? 'You: ' : '';\r\n\r\n    return frontText + lastIMessage.body;\r\n  }\r\n\r\n  /**\r\n   * UI helper method to set group initial for chat\r\n   * @param group group to get data for ui\r\n   */\r\n  getGroupInitial({ name }: SecureMessageGroupInfo): string {\r\n    return name == null || name.length < 1 ? 'U' : name[0];\r\n  }\r\n\r\n  /**\r\n   * UI helper method to set group name\r\n   * @param group conversation to get data for ui\r\n   */\r\n  getGroupName({ name }: SecureMessageGroupInfo): string {\r\n    return name == null ? 'Name Unknown' : name;\r\n  }\r\n\r\n  /**\r\n   * UI helper method to set group description\r\n   * @param group group to get data for ui\r\n   */\r\n  getGroupDescription({ description }: SecureMessageGroupInfo): string {\r\n    return description == null ? '' : description;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param messages\r\n   * @param messageIndex\r\n   * @param messageType\r\n   */\r\n  messageShowAvatar({ messages }: SecureMessageConversation, messageIndex: number, messageType: string): boolean {\r\n    const isNextMessageFromGroup = (): boolean => messages[messageIndex + 1].sender.type === messageType;\r\n    const isMoreThanOneMinuteBetweenMessages = (): boolean =>\r\n      new Date(messages[messageIndex + 1].sent_date).getTime() - new Date(messages[messageIndex].sent_date).getTime() <\r\n      60000;\r\n\r\n    /// first message\r\n    if (messageIndex === 0) {\r\n      /// more than one message && next message from group as well\r\n      return !(messages.length > 1 && isNextMessageFromGroup() && isMoreThanOneMinuteBetweenMessages());\r\n    }\r\n\r\n    /// not last message && more messages && next message from group as well\r\n    return !(\r\n      messages.length - 1 > messageIndex + 1 &&\r\n      isNextMessageFromGroup() &&\r\n      isMoreThanOneMinuteBetweenMessages()\r\n    );\r\n  }\r\n\r\n  /**\r\n   * UI Helper method to determine if the sent date should be shown\r\n   * (used to group messages visually)\r\n   * @param conversation conversation data\r\n   * @param messageIndex index of current message\r\n   * @param messageType type of message (group or patron)\r\n   */\r\n  messageShowDate({ messages }: SecureMessageConversation, messageIndex: number, messageType: string): boolean {\r\n    /// next message from group as well:\r\n    const isNextMessageFromGroup = (): boolean => {\r\n      //was this message sent within 1 min of the next message:\r\n      const isMessageSentWithinMin: boolean =\r\n        new Date(messages[messageIndex + 1].sent_date).getTime() -\r\n          new Date(messages[messageIndex].sent_date).getTime() <\r\n        60000;\r\n\r\n      return messages[messageIndex + 1].sender.type === messageType && isMessageSentWithinMin;\r\n    };\r\n    /// first message\r\n    if (messageIndex === 0) {\r\n      /// more than one message\r\n      return !(messages.length > 1 && isNextMessageFromGroup());\r\n    } else {\r\n      /// not first message\r\n      /// more messages\r\n      return !(messages.length - 1 > messageIndex + 1 && isNextMessageFromGroup());\r\n    }\r\n  }\r\n\r\n  async modalHandler(res, cb) {\r\n    const popover = await this.popoverCtrl.create({\r\n      component: SecureMessagePopoverComponent,\r\n      componentProps: {\r\n        data: res,\r\n      },\r\n      animated: false,\r\n      backdropDismiss: true,\r\n    });\r\n\r\n    popover.onDidDismiss().then(({ role }) => {\r\n      if (role === BUTTON_TYPE.CLOSE) {\r\n        //TODO: this.platform.exitApp();\r\n      }\r\n\r\n      if (role === BUTTON_TYPE.RETRY) {\r\n        cb();\r\n      }\r\n    });\r\n\r\n    return await popover.present();\r\n  }\r\n\r\n  checkIfOpen(): boolean {\r\n    this.globalNav.hideNavBar();\r\n    return true\r\n  }\r\n\r\n  isMainPage() {\r\n    this.globalNav.showNavBar();\r\n    return true\r\n  }\r\n}\r\n","export * from './secure-messaging.service';\r\nexport * from './secure-messaging-api.service';\r\n","import { HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { APIService, HttpResponseType, RestCallType } from 'src/app/core/service/api-service/api.service';\r\nimport { SecureMessageGroupInfo, SecureMessageInfo, SecureMessageSendBody } from '../models';\r\n\r\n@Injectable()\r\nexport class SecureMessagingApiService {\r\n  private static jwt: string;\r\n\r\n  private serviceUrlSecureMessage = '/secureMessages';\r\n  private serviceUrlSecureMessageGroup = '/messageGroups';\r\n\r\n  constructor(private apiService: APIService) {}\r\n\r\n  static setJWT(newJWT: string) {\r\n    SecureMessagingApiService.jwt = newJWT;\r\n  }\r\n\r\n  getSecureMessages(ma_type: string, ma_id_field: string, ma_id_value: string): Observable<SecureMessageInfo[]> {\r\n    const url = `${\r\n      this.serviceUrlSecureMessage\r\n    }?ma_type=${ma_type}&ma_id_field=${ma_id_field}&ma_id_value=${ma_id_value}`;\r\n\r\n    return this.apiService.authenticatedHTTPCall(\r\n      RestCallType.get,\r\n      url,\r\n      HttpResponseType.json,\r\n      null,\r\n      null,\r\n      this.getHttpHeaders()\r\n    );\r\n  }\r\n\r\n  getSecureMessagesGroups(inst_id: string): Observable<SecureMessageGroupInfo[]> {\r\n    const url = `${this.serviceUrlSecureMessageGroup}?inst_id=${inst_id}&with_members=0`;\r\n\r\n    return this.apiService.authenticatedHTTPCall(\r\n      RestCallType.get,\r\n      url,\r\n      HttpResponseType.json,\r\n      null,\r\n      null,\r\n      this.getHttpHeaders()\r\n    );\r\n  }\r\n\r\n  postSecureMessage(messageInfo: SecureMessageSendBody): Observable<any> {\r\n    return this.apiService.authenticatedHTTPCall(\r\n      RestCallType.post,\r\n      this.serviceUrlSecureMessage,\r\n      HttpResponseType.json,\r\n      messageInfo,\r\n      null,\r\n      this.getHttpHeaders()\r\n    );\r\n  }\r\n\r\n  replyToSecureMessage(messageInfo: SecureMessageInfo): Observable<any> {\r\n    return this.apiService.authenticatedHTTPCall(\r\n      RestCallType.post,\r\n      this.serviceUrlSecureMessage, /// does this need a msgId in the URL???\r\n      HttpResponseType.json,\r\n      messageInfo,\r\n      null,\r\n      this.getHttpHeaders()\r\n    );\r\n  }\r\n\r\n  deleteSecureMessage(messageID: string): Observable<any> {\r\n    return this.apiService.authenticatedHTTPCall(\r\n      RestCallType.post,\r\n      this.serviceUrlSecureMessage + '/' + messageID,\r\n      HttpResponseType.json,\r\n      undefined,\r\n      undefined,\r\n      this.getHttpHeaders()\r\n    );\r\n  }\r\n\r\n  private getHttpHeaders(): HttpHeaders {\r\n    return new HttpHeaders().set('Authorization', SecureMessagingApiService.jwt);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable, timer, zip, of } from 'rxjs';\r\nimport { switchMap } from 'rxjs/internal/operators/switchMap';\r\n\r\n// import { AuthService } from '@core/service/auth-service/auth-api.service';\r\nimport { SecureMessagingApiService } from './secure-messaging-api.service';\r\n\r\nimport { SecureMessageGroupInfo, SecureMessageInfo, SecureMessageSendBody, SecureMessagingAuthInfo } from '../models';\r\nimport { X_Y_REGEXP } from '@core/utils/regexp-patterns';\r\nimport { AuthApiService } from '@core/service/auth-api/auth-api.service';\r\n\r\n@Injectable()\r\nexport class SecureMessagingService {\r\n  private static smAuthInfo: SecureMessagingAuthInfo;\r\n  private readonly ma_type = 'patron';\r\n  private readonly refreshTime = 10000;\r\n\r\n  constructor(\r\n    private authService: AuthApiService,\r\n    private secureMessagingService: SecureMessagingApiService) {}\r\n\r\n  static GetSecureMessagesAuthInfo(): SecureMessagingAuthInfo {\r\n    return SecureMessagingService.smAuthInfo;\r\n  }\r\n\r\n  getInitialData(): Observable<[SecureMessageGroupInfo[], SecureMessageInfo[]]> {\r\n    return this.authService.getExternalAuthenticationToken().pipe(\r\n      switchMap((response: string) => {\r\n        SecureMessagingApiService.setJWT(response);\r\n        SecureMessagingService.smAuthInfo = JSON.parse(atob(response.split('.')[1]));\r\n        return zip(this.getSecureMessagesGroups(), this.getSecureMessages());\r\n      })\r\n    );\r\n  }\r\n\r\n  sendSecureMessage(messageInfo: SecureMessageSendBody): Observable<any> {\r\n    return this.secureMessagingService.postSecureMessage(messageInfo);\r\n  }\r\n\r\n  getSecureMessages(): Observable<SecureMessageInfo[]> {\r\n    return this.secureMessagingService.getSecureMessages(\r\n      this.ma_type,\r\n      SecureMessagingService.smAuthInfo.id_field,\r\n      SecureMessagingService.smAuthInfo.id_value\r\n    );\r\n  }\r\n\r\n  pollForData(): Observable<[SecureMessageGroupInfo[], SecureMessageInfo[]]> {\r\n    return timer(this.refreshTime, this.refreshTime).pipe(\r\n      switchMap(() => zip(this.getSecureMessagesGroups(), this.getSecureMessages()))\r\n    );\r\n  }\r\n\r\n  getSecureMessagesGroups(): Observable<SecureMessageGroupInfo[]> {\r\n    return this.secureMessagingService.getSecureMessagesGroups(SecureMessagingService.smAuthInfo.institution_id);\r\n  }\r\n\r\n  private newGuid() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(X_Y_REGEXP, function(c) {\r\n      // tslint:disable-next-line:no-bitwise\r\n      const r = (Math.random() * 16) | 0,\r\n        v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n      return v.toString(16);\r\n    });\r\n  }\r\n}\r\n","export * from './message-date.module';","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MessageDatePipe } from './message-date.pipe';\r\n\r\nconst declarations = [MessageDatePipe];\r\n@NgModule({\r\n  declarations,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: declarations\r\n})\r\nexport class MessageDatePipeModule { }","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { DatePipe } from '@angular/common';\r\nimport { SecureMessageInfo } from '@core/model/secure-messaging/secure-messaging.model';\r\n\r\n@Pipe({\r\n  name: 'messageDate',\r\n})\r\nexport class MessageDatePipe implements PipeTransform {\r\n  constructor(private datePipe: DatePipe) {}\r\n\r\n  transform({ sent_date }: SecureMessageInfo, args?: any): any {\r\n    const today: Date = new Date();\r\n    const sentDate: Date = new Date(sent_date);\r\n\r\n    /// > 1 year (Full timestamp)\r\n    if (today.getFullYear() > sentDate.getFullYear()) {\r\n      return this.datePipe.transform(sentDate, 'mediumDate');\r\n    }\r\n\r\n    /// > 5 days (<monthAbbv> <date>, xx:xx AM/PM)\r\n    if (today.getTime() - sentDate.getTime() > 432000000) {\r\n      return this.datePipe.transform(sentDate, 'MMM d, h:mm a');\r\n    }\r\n\r\n    /// > 2 days (<dayAbbv> xx:xx AM/PM)\r\n    if (today.getTime() - sentDate.getTime() >= 172800000) {\r\n      return this.datePipe.transform(sentDate, 'E, h:mm a');\r\n    }\r\n\r\n    /// > 1 day (Yesterday at xx:xx AM/PM)\r\n    if (today.getTime() - sentDate.getTime() >= 86400000) {\r\n      // tslint:disable-next-line:quotemark\r\n      return this.datePipe.transform(sentDate, \"'Yesterday at ' h:mm a'\");\r\n    }\r\n\r\n    /// > 5 minutes (xx:xx AM/PM)\r\n    if (today.getTime() - sentDate.getTime() > 300000) {\r\n      return this.datePipe.transform(sentDate, 'h:mm a');\r\n    }\r\n\r\n    /// > 1 minute (x minutes ago)\r\n    if (today.getTime() - sentDate.getTime() > 60000) {\r\n      const minutesAgo = Math.round((today.getTime() - sentDate.getTime()) / 60000);\r\n      return minutesAgo.toString() + (minutesAgo === 1 ? ' minute ago' : ' minutes ago');\r\n    }\r\n\r\n    /// < 1 minute (Now)\r\n    return 'Now';\r\n  }\r\n}\r\n"],"sourceRoot":""}