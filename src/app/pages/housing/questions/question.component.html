<div [formGroup]="parentGroup">
  <ng-container [ngSwitch]="question.type">
    <ng-container *ngSwitchCase="'header'">
      <div [innerHTML]="getHeaderHTML(question)"></div>
    </ng-container>

    <p *ngSwitchCase="'paragraph'" class="question__item">{{ question.label }}</p>

    <st-input-floating-label
      *ngSwitchCase="'text'"
      class="question__item"
      type="text"
      [control]="parentGroup.get(question.name)"
      [label]="question.label"
      [idd]="question.name"
      [formControlName]="question.name"
      [isError]="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched"
      [stEmptyFormControl]="parentGroup.get(question.name)"
    >
      <ng-container *ngIf="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched">
        <p *ngIf="parentGroup.get(question.name).getError('required')">
          This field is required.
        </p>
      </ng-container>
    </st-input-floating-label>

    <st-textarea-floating-label
      *ngSwitchCase="'textarea'"
      [control]="parentGroup.get(question.name)"
      [isError]="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched"
      [formControlName]="question.name"
      class="question__item"
      [idd]="question.name"
      [label]="question.label"
      title="Type your message here..."
      rows="3"
      [stEmptyFormControl]="parentGroup.get(question.name)"
    >
      <ng-container *ngIf="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched">
        <p *ngIf="parentGroup.get(question.name).getError('required')">
          This field is required.
        </p>
      </ng-container>
    </st-textarea-floating-label>

    <st-date-select
      *ngSwitchCase="'date'"
      class="question__item"
      [parentForm]="parentGroup"
      [label]="question.label"
      [name]="question.name"
      displayFormat="MMM/DD/YYYY"
    ></st-date-select>

    <st-select-floating-label
      *ngSwitchCase="'select'"
      [formControlName]="question.name"
      [control]="parentGroup.get(question.name)"
      [isError]="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched"
      class="question__item"
      interface="action-sheet"
      [interfaceOptions]="customActionSheetOptions"
      [label]="question.label"
      [idd]="question.name"
      [stEmptyFormControl]="parentGroup.get(question.name)"
    >
      <ng-container role="options">
        <ion-select-option *ngFor="let option of question['values']" [value]="option.name">
          {{ option.label }}
        </ion-select-option>
      </ng-container>

      <ng-container role="error">
        <ng-container *ngIf="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched">
          <p *ngIf="parentGroup.get(question.name).getError('required')">
            This field is required.
          </p>
        </ng-container>
      </ng-container>
    </st-select-floating-label>

    <div *ngSwitchCase="'checkbox-group'" class="question__item" lines="none">
      <h3>{{ question.label }}</h3>

      <ng-container *ngIf="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched">
        <p *ngIf="parentGroup.get(question.name).getError('required')">
          This field is required.
        </p>
      </ng-container>

      <ion-item
        [formArrayName]="question.name"
        *ngFor="let item of question['values']; index as idx"
        class="ion-no-padding"
        lines="none"
      >
        <ion-checkbox
          class="question__checkbox"
          mode="md"
          [checked]="item.selected"
          [formControlName]="idx"
          slot="start"
        ></ion-checkbox>
        <ion-label>{{ item.label }}</ion-label>
      </ion-item>
    </div>

    <div *ngSwitchCase="'radio-group'" class="question__item" lines="none">
      <h3>{{ question.label }}</h3>

      <ng-container *ngIf="!parentGroup.get(question.name).valid && parentGroup.get(question.name).touched">
        <p *ngIf="parentGroup.get(question.name).getError('required')">
          This field is required.
        </p>
      </ng-container>

      <ion-radio-group [formControlName]="question.name">
        <ion-item *ngFor="let item of question['values']; index as idx" class="ion-no-padding" lines="none">
          <ion-label>{{ item.label }}</ion-label>
          <ion-radio class="question__radio" mode="md" slot="start" [value]="item.value"></ion-radio>
        </ion-item>
      </ion-radio-group>
    </div>
  </ng-container>
</div>
