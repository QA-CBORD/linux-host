<st-header
  title="{{ contentStrings.labelRecentOrders | async }}"
  [isTitleShow]="true"
  [backButtonTitle]="'Order'"
  backButtonIcon="chevron-back"
  [isToolbarShow]="true"
  class="recent-orders__header"
  (click)="close()"
>
</st-header>

<ion-content class="recent-orders__content">
  <ion-refresher slot="fixed" (ionRefresh)="refreshRecentOrders($event)">
    <st-spinner></st-spinner>
  </ion-refresher>
  <ng-container
    *ngIf="!(pendingOrders$ | async).length && !(completedOrders$ | async).length"
    [ngTemplateOutlet]="empty"
  ></ng-container>
  <ng-container *ngIf="(pendingOrders$ | async).length" [ngTemplateOutlet]="pending"></ng-container>
  <ng-container *ngIf="(completedOrders$ | async).length" [ngTemplateOutlet]="completed"></ng-container>
</ion-content>

<ng-template #pending>
  <h2 class="recent-orders__list-title">{{ contentStrings.labelPendingOrders | async }}</h2>
  <st-recent-orders-list
    (onOrderClicked)="onOrderPicked($event)"
    (onNavLinkClicked)="onNavigateToCheckin($event)"
    [orders]="pendingOrders$ | async"
  ></st-recent-orders-list>
</ng-template>

<ng-template #empty>
  <main class="recent-orders__no-orders-block">
    <img class="recent-orders__no-orders-image" src="/assets/images/recent_orders.svg" alt="" />
    <p class="recent-orders__no-orders-message">{{ contentStrings.noRecentOrders | async }}</p>
    <div class="recent-orders__no-orders-btn-wrapper">
      <st-button (onClick)="back()">{{ contentStrings.buttonDashboardStartOrder | async }}</st-button>
    </div>
  </main>
</ng-template>

<ng-template #completed>
  <h2 class="recent-orders__list-title">{{ contentStrings.labelCompletedOrders | async }}</h2>
  <st-recent-orders-list
    (onOrderClicked)="onOrderPicked($event)"
    [orders]="completedOrders$ | async"
  ></st-recent-orders-list>
</ng-template>
