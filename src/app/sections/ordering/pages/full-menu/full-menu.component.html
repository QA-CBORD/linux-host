<st-header title="Full Menu"
           [isTitleShow]="true"
           [backButtonTitle]="'Explore'"
           [backButtonIcon]="'ios-arrow-back'"
           [isToolbarShow]="true"
           class="full-menu__header"></st-header>

<ion-content>

  <ion-list class="full-menu__address-info-list">
    <ion-item lines="full"
              (click)="merchantInfoState = !merchantInfoState">
      <div class="full-menu__address-container">
        <div>
          <div class="full-menu__address-title">{{ (merchantInfo$ | async).name }}</div>
          <ng-container *ngIf="merchantInfoState">
            <div class="full-menu__address-description">{{ (merchantInfo$ | async).description }}</div>
            <div class="full-menu__address-info">
              <img src="./assets/icon/location-pin.svg"
                   height="16"
                   alt="location-pin" />
              <div class="full-menu__address-info-content">
                {{ (merchantInfo$ | async).distanceFromUser | merchantDistance }} -
                <ng-container *ngIf="orderInfo.address.onCampus; then onCampus; else ofCampus"></ng-container>

                <ng-template #ofCampus>
                  {{ orderInfo.address.address1 }}, {{orderInfo.address.city}}
                </ng-template>
                <ng-template #onCampus>
                  {{orderInfo.address.room}}, {{orderInfo.address.building}}
                </ng-template>
              </div>
            </div>
          </ng-container>

        </div>
        <div class="full-menu__arrow-wrapper">
          <img src="/assets/icon/angle-{{ merchantInfoState ? 'up' : 'down' }}-select.svg"
               alt="arrow">
        </div>
      </div>
    </ion-item>
    <ion-item lines="full"
              (click)="openOrderOptions()">
      <div class="full-menu__date-time-container">
        <div class="full-menu__date-time-wrapper">
          <div class="full-menu__date-time-value">{{orderType}}</div>
          <div class="full-menu__date-time-helper">for</div>
          <div class="full-menu__date-time-value">{{orderInfo.dueTime | date: 'EE, MMM d, h:mm a'}}</div>
        </div>
        <div class="full-menu__arrow-wrapper">
          <img src="/assets/icon/angle-down-select.svg"
               alt="arrow down">
        </div>
      </div>
    </ion-item>
  </ion-list>
  <ion-list>
    <ion-item detail
              lines="full"
              *ngFor="let category of (menu$ | async)?.menuCategories"
              (click)="onCategoryClicked(category)">
      <div class="full-menu__menu-item">
        <div>{{category.name}}</div>
        <div class="full-menu__item-size">{{category.menuCategoryItems.length}}</div>
      </div>
    </ion-item>
  </ion-list>
</ion-content>