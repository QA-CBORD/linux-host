
<ion-header mode="ios">
  <ion-toolbar mode="ios">
    <ion-buttons slot="start" mode="ios">
      <ion-button mode="ios" fill="clear" color="dark" class="ion-no-padding" (click)="close()">
        <ion-icon name="close" slot="icon-only" mode="ios"></ion-icon>
      </ion-button>
    </ion-buttons>
    <st-page-title>Filters</st-page-title>

    <ion-buttons slot="end" mode="ios">
      <ion-button
        mode="ios"
        slot="end"
        fill="clear"
        color="dark"
        class="btn search-filter-modal__clear"
        (click)="clearFilters()"
      >
        Clear All
      </ion-button>
    </ion-buttons>


  </ion-toolbar>
</ion-header>
  <ion-content class="search-filter-model__content">
    <div *ngIf="( occupants$ | async) as sample">
      <h3>Working fine</h3>

    <section class="search-filter-model__sorting">
          <st-filter-sort [categories]="categories" (sorted)="sort($event)"></st-filter-sort>
    </section>
          <form [formGroup]="filtersForm">
            <div *ngFor="let item of categoryOptions | keyvalue ">
              <st-search-filter-section [title]="item.key" [toggled]="true">
                <div class="search-filter-model__row" formArrayName="{{item.key}}">
                  <ion-item
                    class="ion-no-padding form-checkbox search-filter-model__col"
                    lines="none"
                    *ngFor="let option of filtersForm.controls[item.key].controls"
                  >
                    <ion-checkbox
                      class="form-checkbox__control"
                      mode="md"
                      slot="start"
                      [checked]="false"
                    ></ion-checkbox>
                    <ion-label class="form-label">{{option.value}}</ion-label>
                  </ion-item>
                </div>
              </st-search-filter-section>
            </div>
          </form>
    </div>


<!--      &lt;!&ndash;    <st-search-filter-section title="Price" subtitle="per month" [toggled]="true">&ndash;&gt;-->
<!--      &lt;!&ndash;      <st-range [min]="0" [max]="1000" [parentGroup]="filtersForm" name="monthRange"></st-range>&ndash;&gt;-->
<!--      &lt;!&ndash;    </st-search-filter-section>&ndash;&gt;-->

<!--      &lt;!&ndash;    <st-search-filter-section title="Price" subtitle="per term" [toggled]="true">&ndash;&gt;-->
<!--      &lt;!&ndash;      <st-range [min]="0" [max]="1000" [parentGroup]="filtersForm" name="termRange"></st-range>&ndash;&gt;-->
<!--      &lt;!&ndash;    </st-search-filter-section>&ndash;&gt;-->

<!--      &lt;!&ndash;    <st-search-filter-section title="Beds" [toggled]="true">&ndash;&gt;-->
<!--      &lt;!&ndash;      <div class="search-filter-model__row" formArrayName="beds">&ndash;&gt;-->
<!--      &lt;!&ndash;        <ion-item&ndash;&gt;-->
<!--      &lt;!&ndash;          class="ion-no-padding form-checkbox search-filter-model__col"&ndash;&gt;-->
<!--      &lt;!&ndash;          lines="none"&ndash;&gt;-->
<!--      &lt;!&ndash;          *ngFor="let bed of beds; index as idx"&ndash;&gt;-->
<!--      &lt;!&ndash;        >&ndash;&gt;-->
<!--      &lt;!&ndash;          <ion-checkbox&ndash;&gt;-->
<!--      &lt;!&ndash;            class="form-checkbox__control"&ndash;&gt;-->
<!--      &lt;!&ndash;            mode="md"&ndash;&gt;-->
<!--      &lt;!&ndash;            slot="start"&ndash;&gt;-->
<!--      &lt;!&ndash;            [formControlName]="idx"&ndash;&gt;-->
<!--      &lt;!&ndash;            [checked]="bed"&ndash;&gt;-->
<!--      &lt;!&ndash;          ></ion-checkbox>&ndash;&gt;-->
<!--      &lt;!&ndash;          <ion-label class="form-label">{{ idx + 1 }} bed</ion-label>&ndash;&gt;-->
<!--      &lt;!&ndash;        </ion-item>&ndash;&gt;-->
<!--      &lt;!&ndash;      </div>&ndash;&gt;-->
<!--      &lt;!&ndash;    </st-search-filter-section>&ndash;&gt;-->

<!--      &lt;!&ndash;    <st-show-more>&ndash;&gt;-->
<!--      &lt;!&ndash;      <st-search-filter-section title="Floor" [toggled]="true">&ndash;&gt;-->
<!--      &lt;!&ndash;        <div class="search-filter-model__row" formArrayName="floors">&ndash;&gt;-->
<!--      &lt;!&ndash;          <ion-item&ndash;&gt;-->
<!--      &lt;!&ndash;            class="ion-no-padding form-checkbox search-filter-model__col"&ndash;&gt;-->
<!--      &lt;!&ndash;            lines="none"&ndash;&gt;-->
<!--      &lt;!&ndash;            *ngFor="let floor of floors; index as idx"&ndash;&gt;-->
<!--      &lt;!&ndash;          >&ndash;&gt;-->
<!--      &lt;!&ndash;            <ion-checkbox&ndash;&gt;-->
<!--      &lt;!&ndash;              class="form-checkbox__control"&ndash;&gt;-->
<!--      &lt;!&ndash;              mode="md"&ndash;&gt;-->
<!--      &lt;!&ndash;              slot="start"&ndash;&gt;-->
<!--      &lt;!&ndash;              [formControlName]="idx"&ndash;&gt;-->
<!--      &lt;!&ndash;              [checked]="floor"&ndash;&gt;-->
<!--      &lt;!&ndash;            ></ion-checkbox>&ndash;&gt;-->
<!--      &lt;!&ndash;            <ion-label class="form-label">{{ idx + 1 }} Floor</ion-label>&ndash;&gt;-->
<!--      &lt;!&ndash;          </ion-item>&ndash;&gt;-->
<!--      &lt;!&ndash;        </div>&ndash;&gt;-->
<!--      &lt;!&ndash;      </st-search-filter-section>&ndash;&gt;-->
<!--      &lt;!&ndash;    </st-show-more>&ndash;&gt;-->
<!--    </form>-->
<!--    </div>-->

  </ion-content>


<ion-footer>
  <ion-toolbar class="search-filter-model__footer-toolbar">
    <ion-button
      class="btn search-filter-model__submit"
      shape="round"
      expand="block"
      type="submit"
      mode="md"
      (click)="close()"
    >
      Show Units
    </ion-button>
  </ion-toolbar>
</ion-footer>
