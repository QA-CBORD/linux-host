<ion-content class="ion-padding work-order-details__content">
  <div class="work-order-details__actions">
    <ion-button class="btn application-details__page-back" (click)="backClicked()"
      mode="ios" fill="clear">
      back
    </ion-button>
  </div>

  <h2 class="work-order-details__title">Upload a new attachment.</h2>

  <div class="work-order-details__card">
    <ion-select interface="popover" [(ngModel)]="selectedAssetKey"  placeholder="Select file type " >
      <ion-select-option *ngFor="let option of (attachmentTypes$ | async)" [value]="option.name">
        {{ option.name }}
      </ion-select-option>
    </ion-select>

    <ng-container>
      <st-textarea-floating-label [(ngModel)]="notes" [isError]="isSubmitted" [label]="'sad'"
        [label]="'Attachment Notes'" rows="3" [ngClass]="{ 'ng-valid form-control--filled ng-touched ng-dirty':true }">
      </st-textarea-floating-label>
    </ng-container>


    <ng-container class="container__image">
      <h3 class="form__secondary-header">Add a .PDF, .DOC, .DOCX, OR JPEG file</h3>
      <div class="container__image">
        <ng-container *ngIf="(file$ | async) as file; else defaultImage" witdh="95%" heigth=95%>
          <ion-img *ngIf="!isFile" class="image" [src]="file.dataURI"></ion-img>
          <div *ngIf="isFile" class="file" ></div>
        </ng-container>
        <ng-template #defaultImage>
          <div class="label"> File size limited to 5MB</div>
          <div class="icon" ></div>
        </ng-template>
      </div>
     {{file?.name}}  File size: {{fileSizeInMB}}
    </ng-container>


    <ion-button color="light" class="btn__image"  (click)="selectFile()">Choose a file </ion-button>
    <ion-button color="light" class="btn__image"  (click)="submitAttachmentForm()">Submit</ion-button>

    
    <!-- <st-stepper class="stepper--white">
      <st-step *ngFor="let page of (pages$ | async); last as isLastPage; first as isFirstPage"
        [stepControl]="page.form">
        <form [formGroup]="page.form" (ngSubmit)="submit(workOrderListDetails, page.form, isLastPage)">
          <ng-container *ngFor="let question of page.questions; first as isFirstQuestion">
            <st-question *ngIf="question" [parentGroup]="page.form" [question]="question" [name]="$any(question).name"
              [class.question--first]="isFirstPage" [isSubmitted]="isSubmitted"></st-question>
          </ng-container>

          <st-stepper-footer>
            <ion-button *ngIf="!isFirstPage" class="btn work-order-details__back" type="button" fill="clear" mode="ios"
              stepperBack (back)="content.scrollToTop()">Back</ion-button>

            <ion-button class="btn work-order-details__next" [class.stepper-footer__button--right]="isFirstPage"
              mode="ios" fill="outline" type="submit" *ngIf="!isLastPage">
              Next
            </ion-button>

            <ion-button
              *ngIf="isLastPage"
              class="btn work-order-details__submit"
              mode="ios"
              type="submit"
              [class.stepper-footer__button--right]="isFirstPage"
              [disabled]="workOrderListDetails.workOrderKey"
              >
              Submit Work Order
            </ion-button>
          </st-stepper-footer>
        </form>
      </st-step>
    </st-stepper> -->
  </div>
</ion-content>