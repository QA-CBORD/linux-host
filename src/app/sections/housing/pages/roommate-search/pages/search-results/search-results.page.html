
<ion-content
  class="ion-padding check-in-out-slots__content"
  #content>
  <div *ngIf="(roommateSearchOptions$ | async) as options">
    <ng-container *ngIf="(roommates$ | async) as roommates; else noRoommates">
      <div>
        <h4>Your search returned {{ roommates.length }} result(s)</h4>
        <div *ngIf="getRoommatePreferencesSelecteds() != '' ">
          <h4>You added {{ getRoommatePreferencesSelecteds() }} as a roommate(s)</h4>
        </div>
      </div>
    
      <ion-list>
        <ion-item *ngFor="let roommate of roommates" button (click)="selectRoommate(roommate)">
          <ng-container [ngSwitch]="options.showOptions">
            <ion-label *ngSwitchCase="'fullName'">
              {{ roommate.firstName }} {{ roommate.middleName == 'null' ? '' : roommate.middleName }} {{ roommate.lastName}}
            </ion-label>
            
            <ion-label *ngSwitchCase="'preferredNameLast'">
              {{ roommate.preferredName == 'null' || roommate.preferredName === '' ? roommate.firstName : roommate.preferredName }} {{ roommate.lastName}}
            </ion-label>

            <ion-label *ngSwitchCase="'fullNameDOB'">
              {{ roommate.firstName }} {{ roommate.middleName == 'null' ? '' : roommate.middleName }} {{ roommate.lastName}} {{ roommate.birthDate | date: 'MM/dd/yyyy' }}
            </ion-label>
          </ng-container>
        </ion-item>
      </ion-list>
    </ng-container>
  </div>
</ion-content>


<ng-template #noRoommates>
  <h4 *ngIf="!(stillLoading$ | async)">No results/matches found, please try again.</h4>
</ng-template>