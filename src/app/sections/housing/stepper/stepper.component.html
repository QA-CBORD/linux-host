<div class="stepper__list-wrap">
  <ul class="stepper__list" *ngIf="steps.length > 1">
    <li
      *ngFor="let step of steps; first as firstStep; last as lastStep; index as idx"
      class="stepper__item"
      [ngClass]="{
        'stepper__item--selected': selectedIndex === idx,
        'stepper__item--completed': selectedIndex > idx
      }"
    >
      <div class="stepper__item-inner">
        <ng-container *ngIf="firstStep">First</ng-container>
        <ng-container *ngIf="lastStep">Last</ng-container>
        <ng-container *ngIf="!firstStep && !lastStep">{{ step.label || getStepLabel(idx) }}</ng-container>
      </div>
    </li>
  </ul>
</div>

<ng-container *ngFor="let step of steps; index as idx">
  <ng-container *ngIf="selectedIndex === idx" [ngTemplateOutlet]="step.content"></ng-container>
</ng-container>
